{"version":3,"file":"main.js","sources":["../../source/js/classes/DefaultEventEmitter.js","../../source/js/classes/Color.js","../../source/js/classes/Records.js","../../source/js/classes/BaseCondition.js","../../source/js/classes/KeyCondition.js","../../source/js/classes/ValuesCondition.js","../../source/js/classes/DXCondition.js","../../source/js/events.js","../../source/js/classes/ConditionBuilder.js","../../source/js/classes/StackingConditionView.js","../../source/js/classes/ConditionBuilderView.js","../../source/js/functions/collapseView.js","../../source/js/classes/ColumnItemView.js","../../source/js/classes/ColumnSelectorSortManager.js","../../source/js/functions/queryTemplates.js","../../source/js/classes/ColumnView.js","../../source/js/classes/ColumnSelectorView.js","../../source/js/classes/HistogramRangeSelectorController.js","../../source/js/functions/util.js","../../source/js/classes/HistogramRangeSelectorView.js","../../source/js/classes/TrackOverviewCategorical.js","../../source/js/classes/TrackView.js","../../source/js/classes/ConceptView.js","../../source/js/classes/StatisticsView.js","../../source/js/classes/ResultsTable.js","../../source/js/classes/StanzaManager.js","../../source/js/functions/dragView.js","../../source/js/classes/ResultDetailModal.js","../../source/js/classes/BalloonView.js","../../source/js/classes/ProgressIndicator.js","../../source/js/classes/TableData.js","../../source/js/classes/ConditionsController.js","../../node_modules/is-retry-allowed/index.js","../../node_modules/axios-retry/lib/index.js","../../node_modules/axios-retry/index.js","../../source/js/classes/UploadUserIDsView.js","../../source/js/classes/App.js","../../source/js/main.js"],"sourcesContent":["class DefaultEventEmitter extends EventTarget {\n\n  constructor() {\n    super();\n  }\n\n}\n\nexport default new DefaultEventEmitter();\n","function t(t,e){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(t=>[t]));let a=e[0].length,s=e[0].map((t,r)=>e.map(t=>t[r])),o=t.map(t=>s.map(e=>Array.isArray(t)?t.reduce((t,r,a)=>t+r*(e[a]||0),0):e.reduce((e,r)=>e+r*t,0)));return 1===r&&(o=o[0]),1===a?o.map(t=>t[0]):o}function e(t){return\"string\"===r(t)}function r(t){return(Object.prototype.toString.call(t).match(/^\\[object\\s+(.*?)\\]$/)[1]||\"\").toLowerCase()}function a(t,...e){for(let r of e)if(r){let e=Object.getOwnPropertyDescriptors(r);Object.defineProperties(t,e)}return t}function s(t,e,r){let a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,a)}function o(t,e){e=+e;let r=(Math.floor(t)+\"\").length;if(e>r)return+t.toFixed(e-r);{let a=10**(r-e);return Math.round(t/a)*a}}function i(t){if(t.indexOf(\".\")>0){let[e,r]=t.split(\".\"),a=Color.space(e);if(!(r in a.coords))throw new ReferenceError(`Color space \"${a.name}\" has no \"${r}\" coordinate.`);return[a,r]}}function n(t,e,r){let a=e.split(\".\"),s=a.pop();if(t=a.reduceRight((t,e)=>t&&t[e],t))return void 0===r?t[s]:t[s]=r}var c=Object.freeze({__proto__:null,isString:e,type:r,extend:a,copyDescriptor:s,capitalize:function(t){return t?t[0].toUpperCase()+t.slice(1):t},toPrecision:o,parseCoord:i,value:n,multiplyMatrices:t});const l=\"undefined\"!=typeof document;class h{constructor(...t){let r,a;if(t[0]&&\"object\"==typeof t[0]&&(t[0].space||t[0].spaceId)&&t[0].coords)a=t[0];else if(e(t[0])){if(l&&0===t[0].indexOf(\"--\")){let t=arguments[1]&&1===arguments[1].nodeType?arguments[1]:document.documentElement;r=getComputedStyle(t).getPropertyValue(arguments[0])}else 1===t.length&&(r=t[0]);r&&(a=h.parse(r))}if(a)\"spaceId\"in a?this.spaceId=a.spaceId:this.space=a.space,this.coords=a.coords.slice(),this.alpha=a.alpha;else{let e,r,a;Array.isArray(t[0])?[e,r,a]=[\"sRGB\",...t]:[e,r,a]=t,this.spaceId=e||\"sRGB\",this.coords=r?r.slice():[0,0,0],this.alpha=a}this.alpha=this.alpha<1?this.alpha:1;for(let t=0;t<this.coords.length;t++)\"NaN\"===this.coords[t]&&(this.coords[t]=NaN)}get space(){return h.spaces[this.spaceId]}set space(t){return this.spaceId=t}get spaceId(){return this._spaceId}set spaceId(t){let e=h.space(t);if(t=e.id,this.space&&e&&this.space!==e){this.coords=this[t];for(let t in this.space.instance)this.hasOwnProperty(t)&&delete this[t]}this._spaceId=t,a(this,this.space.instance)}get white(){return this.space.white||h.whites.D50}set(t,e){if(1===arguments.length&&\"object\"===r(arguments[0])){let t=arguments[0];for(let e in t)this.set(e,t[e])}else if(\"function\"==typeof e){let r=n(this,t);n(this,t,e.call(this,r))}else n(this,t,e);return this}lighten(t=.25){let e=new h(this),r=e.lightness;return e.lightness=r*(1+t),e}darken(t=.25){let e=new h(this),r=e.lightness;return e.lightness=r*(1-t),e}distance(t,e=\"lab\"){t=h.get(t);let r=this[(e=h.space(e)).id],a=t[e.id];return Math.sqrt(r.reduce((t,e,r)=>isNaN(e)||isNaN(a[r])?t:t+(a[r]-e)**2,0))}deltaE(t,r={}){e(r)&&(r={method:r});let{method:a=h.defaults.deltaE,...s}=r;return t=h.get(t),this[\"deltaE\"+a]?this[\"deltaE\"+a](t,s):this.deltaE76(t)}deltaE76(t){return this.distance(t,\"lab\")}get luminance(){return h.chromaticAdaptation(h.spaces.xyz.white,h.whites.D65,this.xyz)[1]}set luminance(t){let e=h.chromaticAdaptation(h.spaces.xyz.white,h.whites.D65,this.xyz);e[1]=t,e=h.chromaticAdaptation(h.whites.D65,h.spaces.xyz.white,e),this.xyz.X=e[0],this.xyz.Y=e[1],this.xyz.Z=e[2]}contrast(t){t=h.get(t);let e=this.luminance,r=t.luminance;return r>e&&([e,r]=[r,e]),(e+.05)/(r+.05)}get uv(){let[t,e,r]=this.xyz,a=t+15*e+3*r;return[4*t/a,9*e/a]}get xy(){let[t,e,r]=this.xyz,a=t+e+r;return[t/a,e/a]}getCoords({inGamut:t,precision:e=h.defaults.precision}={}){let r=this.coords;if(t&&!this.inGamut()&&(r=this.toGamut(!0===t?void 0:t).coords),null!=e){let t=this.space.coords?Object.values(this.space.coords):[];r=r.map((r,a)=>o(r,e,t[a]))}return r}inGamut(t=this.space,e){return t=h.space(t),h.inGamut(t,this[t.id],e)}static inGamut(t,e,{epsilon:r=75e-6}={}){if((t=h.space(t)).inGamut)return t.inGamut(e);{if(!t.coords)return!0;let a=Object.values(t.coords);return e.every((t,e)=>{if(Number.isNaN(t))return!0;let[s,o]=a[e];return(void 0===s||t>=s-r)&&(void 0===o||t<=o+r)})}}toGamut({method:t=h.defaults.gamutMapping,space:r=this.space,inPlace:a}={}){if(e(arguments[0])&&(r=arguments[0]),r=h.space(r),this.inGamut(r,{epsilon:0}))return this;let s=this.to(r);if(t.indexOf(\".\")>0&&!this.inGamut(r)){let e=s.toGamut({method:\"clip\",space:r});if(this.deltaE(e,{method:\"2000\"})>2){let[e,a]=i(t),o=s.to(e),n=.01,c=e.coords[a][0],l=o[a];for(;l-c>n;){let t=o.toGamut({space:r,method:\"clip\"});o.deltaE(t,{method:\"2000\"})-2<n?c=o[a]:l=o[a],o[a]=(l+c)/2}s=o.to(r)}else s=e}if(\"clip\"===t||!s.inGamut(r,{epsilon:0})){let t=Object.values(r.coords);s.coords=s.coords.map((e,r)=>{let[a,s]=t[r];return void 0!==a&&(e=Math.max(a,e)),void 0!==s&&(e=Math.min(e,s)),e})}return r.id!==this.spaceId&&(s=s.to(this.space)),a?(this.coords=s.coords,this):s}clone(){return new h(this.spaceId,this.coords,this.alpha)}to(t,{inGamut:e}={}){let r=(t=h.space(t)).id,a=new h(r,this[r],this.alpha);return e&&a.toGamut({inPlace:!0}),a}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}toString({precision:t=h.defaults.precision,format:r,commas:a,inGamut:s,name:i=\"color\",fallback:n}={}){let c=this.alpha<1?` ${a?\",\":\"/\"} ${this.alpha}`:\"\",p=this.getCoords({inGamut:s,precision:t});p=p.map(t=>t||0),e(r)&&\"%\"===r&&(r=e=>o(e*=100,t)+\"%\"),\"function\"==typeof r&&(p=p.map(r));let u=[...p];\"color\"===i&&u.unshift(this.space?this.space.cssId||this.space.id:\"XYZ\");let d=`${i}(${u.join(a?\", \":\" \")}${c})`;if(n){if(!l||\"undefined\"==typeof CSS||CSS.supports(\"color\",d))return d=new String(d),d.color=this,d;let e=Array.isArray(n)?n.slice():h.defaults.fallbackSpaces;for(let r,a=0;r=e[a];a++)if(h.spaces[r]){let s=this.to(r);if(d=s.toString({precision:t}),CSS.supports(\"color\",d))return d=new String(d),d.color=s,d;e===h.defaults.fallbackSpaces&&(e.splice(a,1),a--)}let r=this.to(\"srgb\");d=new String(r.toString({commas:!0})),d.color=r}return d}equals(t){return t=h.get(t),this.spaceId===t.spaceId&&this.alpha===t.alpha&&this.coords.every((e,r)=>e===t.coords[r])}static chromaticAdaptation(e,r,a,s={}){if((e=e||h.whites.D50)===(r=r||h.whites.D50))return a;let o={W1:e,W2:r,XYZ:a,options:s};if(h.hooks.run(\"chromatic-adaptation-start\",o),o.M||(o.W1===h.whites.D65&&o.W2===h.whites.D50?o.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:o.W1===h.whites.D50&&o.W2===h.whites.D65&&(o.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),h.hooks.run(\"chromatic-adaptation-end\",o),o.M)return t(o.M,o.XYZ);throw new TypeError(\"Only Bradford CAT with white points D50 and D65 supported for now.\")}static parse(t){let e={str:t};if(h.hooks.run(\"parse-start\",e),e.color)return e.color;if(e.parsed=h.parseFunction(e.str),h.hooks.run(\"parse-function-start\",e),e.color)return e.color;for(let t of Object.values(h.spaces))if(t.parse){let r=t.parse(e.str,e.parsed);if(r)return r}let r=e.parsed&&e.parsed.name;if(!/^color|^rgb/.test(r)&&l&&document.head){let a=document.head.style.color;if(document.head.style.color=\"\",document.head.style.color=t,document.head.style.color!==a){let s=getComputedStyle(document.head).color;document.head.style.color=a,s&&(t=s,e.parsed=h.parseFunction(s),r=e.parsed.name)}}if(e.parsed){if(\"rgb\"===r||\"rgba\"===r){let t=e.parsed.args.map((t,e)=>e<3&&!t.percentage?t/255:+t);return{spaceId:\"srgb\",coords:t.slice(0,3),alpha:t[3]}}if(\"color\"===r){let t=e.parsed.args.shift().toLowerCase(),r=Object.values(h.spaces).find(e=>(e.cssId||e.id)===t);if(r){let t=Object.keys(r.coords).length,a=e.parsed.rawArgs.indexOf(\"/\")>0?e.parsed.args.pop():1,s=Array(t).fill(0);return s.forEach((t,r)=>s[r]=e.parsed.args[r]||0),{spaceId:r.id,coords:s,alpha:a}}throw new TypeError(`Color space ${t} not found. Missing a plugin?`)}}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}static parseFunction(t){if(!t)return;t=t.trim();const e=/^-?[\\d.]+$/;let r=t.match(/^([a-z]+)\\((.+?)\\)$/i);if(r){let t=r[2].match(/([-\\w.]+(?:%|deg)?)/g);return t=t.map(t=>{if(/%$/.test(t)){let e=new Number(+t.slice(0,-1)/100);return e.percentage=!0,e}if(/deg$/.test(t)){let e=new Number(+t.slice(0,-3));return e.deg=!0,e}return e.test(t)?+t:t}),{name:r[1].toLowerCase(),rawName:r[1],rawArgs:r[2],args:t}}}static convert(t,e,r){if((e=h.space(e))===(r=h.space(r)))return t;t=t.map(t=>Number.isNaN(t)?0:t);let a=e.id,s=r.id;if(r.from&&r.from[a])return r.from[a](t);if(e.to&&e.to[s])return e.to[s](t);let o=e.toXYZ(t);return r.white!==e.white&&(o=h.chromaticAdaptation(e.white,r.white,o)),r.fromXYZ(o)}static get(t,...e){return t instanceof h?t:new h(t,...e)}static space(t){let e=r(t);if(\"string\"===e){let e=h.spaces[t.toLowerCase()];if(!e)throw new TypeError(`No color space found with id = \"${t}\"`);return e}if(t&&\"object\"===e)return t;throw new TypeError(t+\" is not a valid color space\")}static defineSpace({id:t,inherits:e}){let r=h.spaces[t]=arguments[0];if(e){const t=[\"id\",\"parse\",\"instance\",\"properties\"];let a=h.spaces[e];for(let e in a)t.includes(e)||e in r||s(r,a,e)}let o=r.coords;if(r.properties&&a(h.prototype,r.properties),!r.fromXYZ&&!r.toXYZ){let t;if(r.from&&r.to){let e=new Set(Object.keys(r.from)),a=new Set(Object.keys(r.to)),s=[...e].filter(t=>{if(a.has(t)){let e=h.spaces[t];return e&&e.fromXYZ&&e.toXYZ}});s.length>0&&(t=h.spaces[s[0]])}if(!t)throw new ReferenceError(`No connection space found for ${r.name}.`);Object.assign(r,{fromXYZ(e){let r=t.fromXYZ(e);return this.from[t.id](r)},toXYZ(e){let r=this.to[t.id](e);return t.toXYZ(r)}})}let i=Object.keys(o);return Object.defineProperty(h.prototype,t,{get(){let e=h.convert(this.coords,this.spaceId,t);return\"undefined\"==typeof Proxy?e:new Proxy(e,{has:(t,e)=>i.includes(e)||Reflect.has(t,e),get:(t,e,r)=>{let a=i.indexOf(e);return a>-1?t[a]:Reflect.get(t,e,r)},set:(e,r,a,s)=>{let o=i.indexOf(r);return r>-1&&(o=r),o>-1?(e[o]=a,this.coords=h.convert(e,t,this.spaceId),!0):Reflect.set(e,r,a,s)}})},set(e){this.coords=h.convert(e,t,this.spaceId)},configurable:!0,enumerable:!0}),r}static defineShortcut(t,e=h.prototype,r){r&&(h.shortcuts[t]=r),Object.defineProperty(e,t,{get(){return n(this,h.shortcuts[t])},set(e){return n(this,h.shortcuts[t],e)},configurable:!0,enumerable:!0})}static statify(t=[]){t=t||Object.getOwnPropertyNames(h.prototype);for(let t of Object.getOwnPropertyNames(h.prototype)){let e=Object.getOwnPropertyDescriptor(h.prototype,t);e.get||e.set||\"function\"!=typeof e.value||t in h||(h[t]=function(e,...r){return(e=h.get(e))[t](...r)})}}}Object.assign(h,{util:c,hooks:new class{add(t,e,r){if(\"string\"==typeof arguments[0])(Array.isArray(t)?t:[t]).forEach((function(t){this[t]=this[t]||[],e&&this[t][r?\"unshift\":\"push\"](e)}),this);else for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1])}run(t,e){this[t]=this[t]||[],this[t].forEach((function(t){t.call(e&&e.context?e.context:e,e)}))}},whites:{D50:[.3457/.3585,1,.2958/.3585],D65:[.3127/.329,1,.3583/.329]},spaces:{},shortcuts:{lightness:\"lch.lightness\",chroma:\"lch.chroma\",hue:\"lch.hue\"},defaults:{gamutMapping:\"lch.chroma\",precision:5,deltaE:\"76\",fallbackSpaces:[\"p3\",\"srgb\"]}}),h.defineSpace({id:\"xyz\",name:\"XYZ\",coords:{X:[],Y:[],Z:[]},white:h.whites.D50,inGamut:t=>!0,toXYZ:t=>t,fromXYZ:t=>t});for(let t in h.shortcuts)h.defineShortcut(t);h.statify(),h.defineSpace({id:\"lab\",name:\"Lab\",coords:{L:[0,100],a:[-100,100],b:[-100,100]},inGamut:t=>!0,white:h.whites.D50,\"ε\":216/24389,\"ε3\":24/116,\"κ\":24389/27,fromXYZ(t){const{\"κ\":e,\"ε\":r,white:a}=this;let s=t.map((t,e)=>t/a[e]).map(t=>t>r?Math.cbrt(t):(e*t+16)/116);return[116*s[1]-16,500*(s[0]-s[1]),200*(s[1]-s[2])]},toXYZ(t){const{\"κ\":e,\"ε3\":r,white:a}=this;let s=[];return s[1]=(t[0]+16)/116,s[0]=t[1]/500+s[1],s[2]=s[1]-t[2]/200,[s[0]>r?Math.pow(s[0],3):(116*s[0]-16)/e,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/e,s[2]>r?Math.pow(s[2],3):(116*s[2]-16)/e].map((t,e)=>t*a[e])},parse(t,e=h.parseFunction(t)){if(e&&\"lab\"===e.name){let t=e.args[0];return t.percentage&&(e.args[0]=100*t),{spaceId:\"lab\",coords:e.args.slice(0,3),alpha:e.args.slice(3)[0]}}},instance:{toString({format:t,...e}={}){return t||(t=(t,e)=>0===e?t+\"%\":t),h.prototype.toString.call(this,{name:\"lab\",format:t,...e})}}});const p=[0,360];function u(t){return(t%360+360)%360}p.isAngle=!0,h.defineSpace({id:\"lch\",name:\"LCH\",coords:{lightness:[0,100],chroma:[0,150],hue:p},inGamut:t=>!0,white:h.whites.D50,from:{lab(t){let e,[r,a,s]=t;return e=Math.abs(a)<.02&&Math.abs(s)<.02?NaN:180*Math.atan2(s,a)/Math.PI,[r,Math.sqrt(a**2+s**2),u(e)]}},to:{lab(t){let[e,r,a]=t;return r<0&&(r=0),isNaN(a)&&(a=0),[e,r*Math.cos(a*Math.PI/180),r*Math.sin(a*Math.PI/180)]}},parse(t,e=h.parseFunction(t)){if(e&&\"lch\"===e.name){let t=e.args[0];return t.percentage&&(e.args[0]=100*t),{spaceId:\"lch\",coords:e.args.slice(0,3),alpha:e.args.slice(3)[0]}}},instance:{toString({format:t,...e}={}){return t||(t=(t,e)=>0===e?t+\"%\":t),h.prototype.toString.call(this,{name:\"lch\",format:t,...e})}}}),h.defineSpace({id:\"srgb\",name:\"sRGB\",coords:{red:[0,1],green:[0,1],blue:[0,1]},white:h.whites.D65,toLinear:t=>t.map((function(t){let e=t<0?-1:1,r=Math.abs(t);return r<.04045?t/12.92:e*Math.pow((r+.055)/1.055,2.4)})),toGamma:t=>t.map((function(t){let e=t<0?-1:1,r=Math.abs(t);return r>.0031308?e*(1.055*Math.pow(r,1/2.4)-.055):12.92*t})),toXYZ_M:[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M:[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],toXYZ(e){return e=this.toLinear(e),t(this.toXYZ_M,e)},fromXYZ(e){return this.toGamma(t(this.fromXYZ_M,e))},properties:{toHex({alpha:t=!0,collapse:e=!0}={}){let r=this.to(\"srgb\",{inGamut:!0}).coords;this.alpha<1&&t&&r.push(this.alpha),r=r.map(t=>Math.round(255*t));let a=e&&r.every(t=>t%17==0);return\"#\"+r.map(t=>a?(t/17).toString(16):t.toString(16).padStart(2,\"0\")).join(\"\")},get hex(){return this.toHex()}},instance:{toString({inGamut:t=!0,commas:e,format:r=\"%\",...a}={}){if(255===r)r=t=>255*t;else if(\"hex\"===r)return this.toHex(arguments[0]);return h.prototype.toString.call(this,{inGamut:t,commas:e,format:r,name:\"rgb\"+(e&&this.alpha<1?\"a\":\"\"),...a})}},parseHex(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,\"$&$&\"));let e=[];return t.replace(/[a-f0-9]{2}/gi,t=>{e.push(parseInt(t,16)/255)}),{spaceId:\"srgb\",coords:e.slice(0,3),alpha:e.slice(3)[0]}}}),h.hooks.add(\"parse-start\",t=>{let e=t.str;/^#([a-f0-9]{3,4}){1,2}$/i.test(e)&&(t.color=h.spaces.srgb.parseHex(e))}),h.defineSpace({inherits:\"srgb\",id:\"srgb-linear\",name:\"sRGB-linear\",toLinear:t=>t,toGamma:t=>t}),h.defineSpace({id:\"hsl\",name:\"HSL\",coords:{hue:p,saturation:[0,100],lightness:[0,100]},inGamut(t){let e=this.to.srgb(t);return h.inGamut(\"srgb\",e)},white:h.whites.D65,from:{srgb(t){let e=Math.max.apply(Math,t),r=Math.min.apply(Math,t),[a,s,o]=t,[i,n,c]=[NaN,0,(r+e)/2],l=e-r;if(0!==l){switch(n=0===c||1===c?0:(e-c)/Math.min(c,1-c),e){case a:i=(s-o)/l+(s<o?6:0);break;case s:i=(o-a)/l+2;break;case o:i=(a-s)/l+4}i*=60}return[i,100*n,100*c]}},to:{srgb(t){let[e,r,a]=t;function s(t){let s=(t+e/30)%12,o=r*Math.min(a,1-a);return a-o*Math.max(-1,Math.min(s-3,9-s,1))}return e%=360,e<0&&(e+=360),r/=100,a/=100,[s(0),s(8),s(4)]}},parse(t,e=h.parseFunction(t)){if(e&&/^hsla?$/.test(e.name)){let t=e.args;return t[1]*=100,t[2]*=100,{spaceId:\"hsl\",coords:t.slice(0,3),alpha:t[3]}}},instance:{toString({precision:t,commas:e,format:r,inGamut:a,...s}={}){return r||(r=(t,e)=>e>0?t+\"%\":t),h.prototype.toString.call(this,{inGamut:!0,commas:e,format:r,name:\"hsl\"+(e&&this.alpha<1?\"a\":\"\"),...s})}}}),h.defineSpace({id:\"hwb\",name:\"HWB\",coords:{hue:p,whiteness:[0,100],blackness:[0,100]},inGamut(t){let e=this.to.srgb(t);return h.inGamut(\"srgb\",e)},white:h.whites.D65,from:{srgb(t){let e=h.spaces.hsl.from.srgb(t)[0],r=Math.min(...t),a=1-Math.max(...t);return r*=100,a*=100,[e,r,a]},hsv(t){let[e,r,a]=t;return[e,a*(100-r)/100,100-a]},hsl(t){let e=h.spaces.hsv.from.hsl(t);return this.hsv(e)}},to:{srgb(t){let[e,r,a]=t;r/=100,a/=100;let s=r+a;if(s>=1){let t=r/s;return[t,t,t]}let o=h.spaces.hsl.to.srgb([e,100,50]);for(var i=0;i<3;i++)o[i]*=1-r-a,o[i]+=r;return o},hsv(t){let[e,r,a]=t;r/=100,a/=100;let s=r+a;if(s>=1)return[e,0,r/s*100];let o=1-a;return[e,100*(0===o?0:1-r/o),100*o]},hsl(t){let e=h.spaces.hwb.to.hsv(t);return h.spaces.hsv.to.hsl(e)}},parse(t,e=h.parseFunction(t)){if(e&&/^hwba?$/.test(e.name)){let t=e.args;return t[1]*=100,t[2]*=100,{spaceId:\"hwb\",coords:t.slice(0,3),alpha:t[3]}}},instance:{toString({format:t,commas:e,inGamut:r,...a}={}){return t||(t=(t,e)=>e>0?t+\"%\":t),h.prototype.toString.call(this,{inGamut:!0,commas:!1,format:t,name:\"hwb\",...a})}}}),h.defineSpace({id:\"hsv\",name:\"HSV\",coords:{hue:p,saturation:[0,100],value:[0,100]},inGamut(t){let e=this.to.hsl(t);return h.spaces.hsl.inGamut(e)},white:h.whites.D65,from:{hsl(t){let[e,r,a]=t;r/=100,a/=100;let s=a+r*Math.min(a,1-a);return[e,0===s?0:200*(1-a/s),100*s]}},to:{hsl(t){let[e,r,a]=t;r/=100,a/=100;let s=a*(1-r/2);return[e,0===s||1===s?0:(a-s)/Math.min(s,1-s)*100,100*s]}}}),h.defineSpace({inherits:\"srgb\",id:\"p3\",name:\"P3\",cssId:\"display-p3\",toXYZ_M:[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M:[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]]}),h.defineSpace({inherits:\"srgb\",id:\"a98rgb\",name:\"Adobe 98 RGB compatible\",cssId:\"a98-rgb\",toLinear:t=>t.map(t=>Math.pow(Math.abs(t),563/256)*Math.sign(t)),toGamma:t=>t.map(t=>Math.pow(Math.abs(t),256/563)*Math.sign(t)),toXYZ_M:[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M:[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]]}),h.defineSpace({inherits:\"srgb\",id:\"prophoto\",name:\"ProPhoto\",cssId:\"prophoto-rgb\",white:h.whites.D50,toLinear:t=>t.map((function(t){return t<=16/512?t/16:Math.pow(t,1.8)})),toGamma:t=>t.map((function(t){return t>=1/512?Math.pow(t,1/1.8):16*t})),toXYZ_M:[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],fromXYZ_M:[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]]}),h.defineSpace({inherits:\"srgb\",id:\"rec2020\",name:\"REC.2020\",\"α\":1.09929682680944,\"β\":.018053968510807,toLinear(t){const{\"α\":e,\"β\":r}=this;return t.map((function(t){return t<4.5*r?t/4.5:Math.pow((t+e-1)/e,1/.45)}))},toGamma(t){const{\"α\":e,\"β\":r}=this;return t.map((function(t){return t>r?e*Math.pow(t,.45)-(e-1):4.5*t}))},toXYZ_M:[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M:[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]]}),h.defineSpace({id:\"absxyzd65\",name:\"Absolute XYZ D65\",coords:{Xa:[0,9504.7],Ya:[0,1e4],Za:[0,10888.3]},white:h.whites.D65,Yw:203,inGamut:t=>!0,fromXYZ(t){const{Yw:e}=this;return t.map((function(t){return Math.max(t*e,0)}))},toXYZ(t){const{Yw:e}=this;return t.map((function(t){return Math.max(t/e,0)}))}}),h.defineSpace({id:\"jzazbz\",cssid:\"Jzazbz\",name:\"Jzazbz\",coords:{Jz:[0,1],az:[-.5,.5],bz:[-.5,.5]},inGamut:t=>!0,white:h.whites.D65,b:1.15,g:.66,n:2610/16384,ninv:16384/2610,c1:.8359375,c2:2413/128,c3:18.6875,p:1.7*2523/32,pinv:32/(1.7*2523),d:-.56,d0:16295499532821565e-27,XYZtoCone_M:[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],ConetoXYZ_M:[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],ConetoIab_M:[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],IabtoCone_M:[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],fromXYZ(e){const{b:r,g:a,n:s,p:o,c1:i,c2:n,c3:c,d:l,d0:p,XYZtoCone_M:u,ConetoIab_M:d}=this;let[m,f,g]=h.spaces.absxyzd65.fromXYZ(e),M=t(u,[r*m-(r-1)*g,a*f-(a-1)*m,g]).map((function(t){return((i+n*(t/1e4)**s)/(1+c*(t/1e4)**s))**o})),[b,w,y]=t(d,M);return[(1+l)*b/(1+l*b)-p,w,y]},toXYZ(e){const{b:r,g:a,ninv:s,pinv:o,c1:i,c2:n,c3:c,d:l,d0:p,ConetoXYZ_M:u,IabtoCone_M:d}=this;let[m,f,g]=e,M=t(d,[(m+p)/(1+l-l*(m+p)),f,g]).map((function(t){return 1e4*((i-t**o)/(c*t**o-n))**s})),[b,w,y]=t(u,M),S=(b+(r-1)*y)/r,C=(w+(a-1)*S)/a;return h.spaces.absxyzd65.toXYZ([S,C,y])},parse(t,e=h.parseFunction(t)){if(e&&\"jzabz\"===e.name)return{spaceId:\"jzazbz\",coords:e.args.slice(0,3),alpha:e.args.slice(3)[0]}},instance:{toString({format:t,...e}={}){return h.prototype.toString.call(this,{name:\"jzazbz\",format:t,...e})}}}),h.defineSpace({id:\"jzczhz\",name:\"JzCzHz\",coords:{Jz:[0,1],chroma:[0,1],hue:p},inGamut:t=>!0,white:h.whites.D65,from:{jzazbz(t){let e,[r,a,s]=t;const o=2e-4;return e=Math.abs(a)<o&&Math.abs(s)<o?NaN:180*Math.atan2(s,a)/Math.PI,[r,Math.sqrt(a**2+s**2),u(e)]}},to:{jzazbz:t=>[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]},parse(t,e=h.parseFunction(t)){if(e&&\"jzczhz\"===e.name)return e.args[0],{spaceId:\"jzczhz\",coords:e.args.slice(0,3),alpha:e.args.slice(3)[0]}}}),h.spaces.rec2020,h.defineSpace({id:\"ictcp\",name:\"ICTCP\",coords:{I:[0,1],CT:[-.5,.5],CP:[-.5,.5]},inGamut:t=>!0,white:h.whites.D65,c1:.8359375,c2:2413/128,c3:18.6875,m1:2610/16384,m2:2523/32,im1:16384/2610,im2:32/2523,XYZtoLMS_M:[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],Rec2020toLMS_M:[[1688/4096,2146/4096,262/4096],[683/4096,2951/4096,462/4096],[99/4096,309/4096,3688/4096]],LMStoIPT_M:[[.5,.5,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],IPTtoLMS_M:[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],LMStoRec2020_M:[[3.437556893281401,-2.507211212509506,.06965431922810461],[-.7914286866564416,1.983837219874009,-.19240853321756743],[-.025646662911506475,-.09924024864394557,1.124886911555452]],LMStoXYZ_M:[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]],fromXYZ(e){const{XYZtoLMS_M:r}=this;let[a,s,o]=h.spaces.absxyzd65.fromXYZ(e),i=t(r,[a,s,o]);return this.LMStoICtCp(i)},toXYZ(e){const{LMStoXYZ_M:r}=this;let a=t(r,this.ICtCptoLMS(e));return h.spaces.absxyzd65.toXYZ(a)},LMStoICtCp(e){const{LMStoIPT_M:r,c1:a,c2:s,c3:o,m1:i,m2:n}=this;return t(r,e.map((function(t){return((a+s*(t/1e4)**i)/(1+o*(t/1e4)**i))**n})))},ICtCptoLMS(e){const{IPTtoLMS_M:r,c1:a,c2:s,c3:o,im1:i,im2:n}=this;return t(r,e).map((function(t){return 1e4*(Math.max(t**n-a,0)/(s-o*t**n))**i}))}}),h.defineSpace({inherits:\"rec2020\",id:\"rec2100pq\",cssid:\"rec2100-pq\",name:\"REC.2100-PQ\",Yw:203,n:2610/16384,ninv:16384/2610,m:2523/32,minv:32/2523,c1:.8359375,c2:2413/128,c3:18.6875,toLinear(t){const{Yw:e,ninv:r,minv:a,c1:s,c2:o,c3:i}=this;return t.map((function(t){return 1e4*(Math.max(t**a-s,0)/(o-i*t**a))**r/e}))},toGamma(t){const{Yw:e,n:r,m:a,c1:s,c2:o,c3:i}=this;return t.map((function(t){let n=Math.max(t*e/1e4,0);return((s+o*n**r)/(1+i*n**r))**a}))}}),h.defineSpace({id:\"oklab\",cssid:\"oklab\",name:\"OKLab\",coords:{L:[0,1],a:[-.5,.5],b:[-.5,.5]},inGamut:t=>!0,white:h.whites.D65,XYZtoLMS_M:[[.8189330101,.3618667424,-.1288597137],[.0329845436,.9293118715,.0361456387],[.0482003018,.2643662691,.633851707]],LMStoXYZ_M:[[1.2270138511035211,-.5577999806518222,.28125614896646783],[-.04058017842328059,1.11225686961683,-.0716766786656012],[-.07638128450570689,-.4214819784180127,1.5861632204407947]],LMStoLab_M:[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],LabtoLMS_M:[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]],fromXYZ(e){const{XYZtoLMS_M:r,LMStoLab_M:a}=this;let s=t(r,e);return t(a,s.map(t=>Math.cbrt(t)))},toXYZ(e){const{LMStoXYZ_M:r,LabtoLMS_M:a}=this;let s=t(a,e);return t(r,s.map(t=>t**3))}}),h.defineSpace({id:\"oklch\",name:\"OKLCh\",coords:{lightness:[0,1],chroma:[0,1],hue:p},inGamut:t=>!0,white:h.whites.D65,from:{oklab(t){let e,[r,a,s]=t;const o=2e-4;return e=Math.abs(a)<o&&Math.abs(s)<o?NaN:180*Math.atan2(s,a)/Math.PI,[r,Math.sqrt(a**2+s**2),u(e)]}},to:{oklab(t){let e,r,[a,s,o]=t;return isNaN(o)?(e=0,r=0):(e=s*Math.cos(o*Math.PI/180),r=s*Math.sin(o*Math.PI/180)),[a,e,r]}},parse(t,e=h.parseFunction(t)){if(e&&\"oklch\"===e.name)return e.args[0],{spaceId:\"oklch\",coords:e.args.slice(0,3),alpha:e.args.slice(3)[0]}}}),h.CATs={},h.hooks.add(\"chromatic-adaptation-start\",t=>{t.options.method&&(t.M=h.adapt(t.W1,t.W2,t.options.method))}),h.hooks.add(\"chromatic-adaptation-end\",t=>{t.M||(t.M=h.adapt(t.W1,t.W2,t.options.method))}),h.defineCAT=function({id:t,toCone_M:e,fromCone_M:r}){h.CATs[t]=arguments[0]},h.adapt=function(e,r,a=\"Bradford\"){let s=h.CATs[a],[o,i,n]=t(s.toCone_M,e),[c,l,p]=t(s.toCone_M,r),u=t([[c/o,0,0],[0,l/i,0],[0,0,p/n]],s.toCone_M);return t(s.fromCone_M,u)},h.defineCAT({id:\"von Kries\",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599364,-1.1293816,.2198974],[.3611914,.6388125,-64e-7],[0,0,1.0890636]]}),h.defineCAT({id:\"Bradford\",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]]}),h.defineCAT({id:\"CAT02\",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238,-.278869,.1827452],[.454369,.4735332,.0720978],[-.0096276,-.005698,1.0153256]]}),h.defineCAT({id:\"CAT16\",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.011254630531685,.1491867754444518],[.3875265432361372,.6214474419314753,-.008973985167612518],[-.01584149884933386,-.03412293802851557,1.04996443687785]]}),Object.assign(h.whites,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]}),h.defineSpace({id:\"acescc\",name:\"ACEScc\",inherits:\"srgb\",coords:{red:[-.3014,1.468],green:[-.3014,1.468],blue:[-.3014,1.468]},white:h.whites.ACES=[.32168/.33767,1,.34065/.33767],toLinear(t){const e=(Math.log2(65504)+9.72)/17.52;return t.map((function(t){return t<=(9.72-15)/17.52?2*(2**(17.52*t-9.72)-2**-16):t<e?2**(17.52*t-9.72):65504}))},toGamma(t){const e=2**-16;return t.map((function(t){return t<=0?(Math.log2(e)+9.72)/17.52:t<e?(Math.log2(e+.5*t)+9.72)/17.52:(Math.log2(t)+9.72)/17.52}))},toXYZ_M:[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],fromXYZ_M:[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]]});let d={range(...t){return h.range(this,...t)},mix(t,e=.5,a={}){\"object\"===r(e)&&([e,a]=[.5,e]);let{space:s,outputSpace:o}=a;return t=h.get(t),this.range(t,{space:s,outputSpace:o})(e)},steps(...t){return h.steps(this,...t)}};function m(t){return\"function\"===r(t)&&t.rangeArgs}function f(t,e,r){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*r}h.steps=function(t,e,r={}){let a;m(t)&&([a,r]=[t,e],[t,e]=a.rangeArgs.colors);let{maxDeltaE:s,deltaEMethod:o,steps:i=2,maxSteps:n=1e3,...c}=r;a||(t=h.get(t),e=h.get(e),a=h.range(t,e,c));let l=this.deltaE(e),p=s>0?Math.max(i,Math.ceil(l/s)+1):i,u=[];if(void 0!==n&&(p=Math.min(p,n)),1===p)u=[{p:.5,color:a(.5)}];else{let t=1/(p-1);u=Array.from({length:p},(e,r)=>{let s=r*t;return{p:s,color:a(s)}})}if(s>0){let t=u.reduce((t,e,r)=>{if(0===r)return 0;let a=e.color.deltaE(u[r-1].color,o);return Math.max(t,a)},0);for(;t>s;){t=0;for(let e=1;e<u.length&&u.length<n;e++){let r=u[e-1],s=u[e],o=(s.p+r.p)/2,i=a(o);t=Math.max(t,i.deltaE(r.color),i.deltaE(s.color)),u.splice(e,0,{p:o,color:a(o)}),e++}}}return u=u.map(t=>t.color),u},h.range=function(t,e,r={}){if(m(t)){let[r,a]=[t,e];return h.range(...r.rangeArgs.colors,{...r.rangeArgs.options,...a})}let{space:a,outputSpace:s,progression:o,premultiplied:i}=r;t=new h(t),e=new h(e);let n={colors:[t,e],options:r};if(a=a?h.space(a):h.spaces[h.defaults.interpolationSpace]||t.space,s=s?h.space(s):t.space||a,t=t.to(a).toGamut(),e=e.to(a).toGamut(),a.coords.hue&&a.coords.hue.isAngle){let s=r.hue=r.hue||\"shorter\";[t[a.id].hue,e[a.id].hue]=function(t,e){if(\"raw\"===t)return e;let[r,a]=e.map(u),s=a-r;return\"increasing\"===t?s<0&&(a+=360):\"decreasing\"===t?s>0&&(r+=360):\"longer\"===t?-180<s&&s<180&&(s>0?a+=360:r+=360):\"shorter\"===t&&(s>180?r+=360:s<-180&&(a+=360)),[r,a]}(s,[t[a.id].hue,e[a.id].hue])}return i&&(t.coords=t.coords.map(e=>e*t.alpha),e.coords=e.coords.map(t=>t*e.alpha)),Object.assign(r=>{r=o?o(r):r;let n=t.coords.map((t,a)=>f(t,e.coords[a],r)),c=f(t.alpha,e.alpha,r),l=new h(a,n,c);return i&&(l.coords=l.coords.map(t=>t/c)),s!==a&&(l=l.to(s)),l},{rangeArgs:n})},Object.assign(h.defaults,{interpolationSpace:\"lab\"}),Object.assign(h.prototype,d),h.statify(Object.keys(d)),h.prototype.deltaECMC=function(t,{l:e=2,c:r=1}={}){t=h.get(t);let[a,s,o]=this.lab,i=this.chroma,n=this.hue,[c,l,p]=t.lab,u=t.chroma;i<0&&(i=0),u<0&&(u=0);let d=a-c,m=i-u,f=s-l,g=o-p;const M=Math.PI/180;let b=f**2+g**2-m**2,w=.511;a>=16&&(w=.040975*a/(1+.01765*a));let y,S=.0638*i/(1+.0131*i)+.638;Number.isNaN(n)&&(n=0),y=n>=164&&n<=345?.56+Math.abs(.2*Math.cos((n+168)*M)):.36+Math.abs(.4*Math.cos((n+35)*M));let C=Math.pow(i,4),k=Math.sqrt(C/(C+1900)),Y=(d/(e*w))**2;return Y+=(m/(r*S))**2,Y+=b/(S*(k*y+1-k))**2,Math.sqrt(Y)},h.statify([\"deltaECMC\"]),h.prototype.deltaE2000=function(t,{kL:e=1,kC:r=1,kH:a=1}={}){t=h.get(t);let[s,o,i]=this.lab,n=this.chroma,[c,l,p]=t.lab,u=t.chroma;n<0&&(n=0),u<0&&(u=0);let d=(n+u)/2,m=Math.pow(d,7);const f=Math.pow(25,7);let g=.5*(1-Math.sqrt(m/(m+f))),M=(1+g)*o,b=(1+g)*l,w=Math.sqrt(M**2+i**2),y=Math.sqrt(b**2+p**2);const S=Math.PI,C=180/S,k=S/180;let Y=0===M&&0===i?0:Math.atan2(i,M),z=0===b&&0===p?0:Math.atan2(p,b);Y<0&&(Y+=2*S),z<0&&(z+=2*S),Y*=C,z*=C;let I,X=c-s,Z=y-w,_=z-Y,v=Y+z,G=Math.abs(_);w*y==0?I=0:G<=180?I=_:_>180?I=_-360:_<-180?I=_+360:console.log(\"the unthinkable has happened\");let x,N=2*Math.sqrt(y*w)*Math.sin(I*k/2),L=(s+c)/2,j=(w+y)/2,O=Math.pow(j,7);x=w*y==0?v:G<=180?v/2:v<360?(v+360)/2:(v-360)/2;let A=(L-50)**2,E=1+.015*A/Math.sqrt(20+A),P=1+.045*j,D=1;D-=.17*Math.cos((x-30)*k),D+=.24*Math.cos(2*x*k),D+=.32*Math.cos((3*x+6)*k),D-=.2*Math.cos((4*x-63)*k);let q=1+.015*j*D,T=30*Math.exp(-1*((x-275)/25)**2),$=2*Math.sqrt(O/(O+f)),R=(X/(e*E))**2;return R+=(Z/(r*P))**2,R+=(N/(a*q))**2,R+=-1*Math.sin(2*T*k)*$*(Z/(r*P))*(N/(a*q)),Math.sqrt(R)},h.statify([\"deltaE2000\"]),h.prototype.deltaEJz=function(t){t=h.get(t);let[e,r,a]=this.jzczhz,[s,o,i]=t.jzczhz,n=e-s,c=r-o;Number.isNaN(a)&&Number.isNaN(i)?(a=0,i=0):Number.isNaN(a)?a=i:Number.isNaN(i)&&(i=a);let l=a-i,p=2*Math.sqrt(r*o)*Math.sin(l*Math.PI/180);return Math.sqrt(n**2+c**2+p**2)},h.statify([\"deltaEJz\"]),h.prototype.deltaEITP=function(t){t=h.get(t);let[e,r,a]=this.ictcp,[s,o,i]=t.ictcp;return 720*Math.sqrt((e-s)**2+.25*(r-o)**2+(a-i)**2)},h.statify([\"deltaEITP\"]),h.prototype.deltaEOK=function(t,e={}){t=h.get(t);let[r,a,s]=this.oklab,o=Math.sqrt(a**2+s**2),[i,n,c]=t.oklab,l=Math.sqrt(n**2+c**2);e.ΔL=r-i,e.ΔC=o-l;let p=(a-n)**2+(s-c)**2-e.ΔC**2;p<0&&(p=0),e.ΔH=Math.sqrt(p);let u=e.ΔL**2+e.ΔC**2+p;return Math.sqrt(u)},h.statify([\"deltaEOK\"]);const g={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[.4,.2,.6],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};h.hooks.add(\"parse-start\",t=>{let e=t.str.toLowerCase(),r={spaceId:\"srgb\",coords:null,alpha:1};\"transparent\"===e?(r.coords=g.black,r.alpha=0):r.coords=g[e],r.coords&&(t.color=r)});export default h;export{c as util};\n//# sourceMappingURL=color.esm.min.js.map\n","import Color from \"./Color\";\n\nclass Records {\n  #subjects;\n  #categories;\n  #datasets;\n  #properties;\n  #fetchedCategoryIds;\n\n  constructor() {}\n\n  // public methods\n\n  setSubjects(subjects, {categories, attributes, datasets}) {\n\n    // define categories\n    for (let i = 0; i < categories.length; i++) {\n      let hue = 360 - (360 * i / categories.length) + 130;\n      hue -= hue > 360 ? 360 : 0;\n      const srgb = new Color('hsv', [hue, 45, 85]).to('srgb');\n      const srgbStrong = new Color('hsv', [hue, 65, 65]).to('srgb');\n      categories[i].hue = hue;\n      categories[i].color = srgb;\n      categories[i].colorCSSValue = `rgb(${srgb.coords.map(channel => channel * 256).join(',')})`;\n      categories[i].colorCSSStrongValue = `rgb(${srgbStrong.coords.map(channel => channel * 256).join(',')})`;\n    }\n    this.#categories = Object.freeze(categories);\n\n    // define subjects\n    for (let i = 0; i < subjects.length; i++) {\n      let hue = 360 - (360 * i / subjects.length) + 130;\n      hue -= hue > 360 ? 360 : 0;\n      const srgb = new Color('hsv', [hue, 45, 85]).to('srgb');\n      const srgbStrong = new Color('hsv', [hue, 65, 65]).to('srgb');\n      subjects[i].hue = hue;\n      subjects[i].color = srgb;\n      subjects[i].colorCSSValue = `rgb(${srgb.coords.map(channel => channel * 256).join(',')})`;\n      subjects[i].colorCSSStrongValue = `rgb(${srgbStrong.coords.map(channel => channel * 256).join(',')})`;\n    }\n    this.#subjects = Object.freeze(subjects);\n\n    // set properties\n    this.#properties = [];\n    this.#fetchedCategoryIds = {};\n    subjects.forEach(subject => {\n      subject.properties.forEach(property => {\n        this.#properties.push(Object.assign({\n          subjectId: subject.subjectId,\n          values: []\n        }, property));\n        this.#fetchedCategoryIds[property.propertyId] = [];\n      });\n    });\n\n    // make stylesheet\n    const styleElm = document.createElement('style');\n    document.head.appendChild(styleElm);\n    const styleSheet = styleElm.sheet;\n    // styleSheet.insertRule(`:root {\n    //   ${subjects.map(subject => `\n    //     --color-subject-${subject.subjectId}: ${subject.colorCSSValue};\n    //     --color-subject-${subject.subjectId}-strong: ${subject.colorCSSStrongValue};\n    //     `).join('')}\n    // }`);\n    styleSheet.insertRule(`:root {\n      ${categories.map(category => `\n        --color-category-${category.id}: ${category.colorCSSValue};\n        --color-category-${category.id}-strong: ${category.colorCSSStrongValue};\n        `).join('')}\n    }`);\n    // for (const subject of subjects) {\n    //   styleSheet.insertRule(`\n    //   ._subject-color[data-subject-id=\"${subject.subjectId}\"], [data-subject-id=\"${subject.subjectId}\"] ._subject-color {\n    //     color: var(--color-subject-${subject.subjectId}-strong);\n    //   }`);\n    //   styleSheet.insertRule(`\n    //   ._subject-background-color[data-subject-id=\"${subject.subjectId}\"], [data-subject-id=\"${subject.subjectId}\"] ._subject-background-color {\n    //     background-color: var(--color-subject-${subject.subjectId});\n    //   }`);\n    //   styleSheet.insertRule(`\n    //   ._subject-background-color-strong[data-subject-id=\"${subject.subjectId}\"], [data-subject-id=\"${subject.subjectId}\"] ._subject-background-color-strong {\n    //     background-color: var(--color-subject-${subject.subjectId}-strong);\n    //   }`);\n    //   styleSheet.insertRule(`\n    //   ._subject-border-color[data-subject-id=\"${subject.subjectId}\"], [data-subject-id=\"${subject.subjectId}\"] ._subject-border-color {\n    //     border-color: var(--color-subject-${subject.subjectId});\n    //   }`);\n    // }\n    for (const category of categories) {\n      styleSheet.insertRule(`\n      ._category-color[data-category-id=\"${category.id}\"], [data-category-id=\"${category.id}\"] ._category-color {\n        color: var(--color-category-${category.id}-strong);\n      }`);\n      styleSheet.insertRule(`\n      ._category-background-color[data-category-id=\"${category.id}\"], [data-category-id=\"${category.id}\"] ._category-background-color {\n        background-color: var(--color-category-${category.id});\n      }`);\n      styleSheet.insertRule(`\n      ._category-background-color-strong[data-category-id=\"${category.id}\"], [data-category-id=\"${category.id}\"] ._category-background-color-strong {\n        background-color: var(--color-category-${category.id}-strong);\n      }`);\n      styleSheet.insertRule(`\n      ._category-border-color[data-category-id=\"${category.id}\"], [data-category-id=\"${category.id}\"] ._category-border-color {\n        border-color: var(--color-category-${category.id});\n      }`);\n    }\n  }\n\n  setDatasets({tracks, attributes, datasets}) {\n    // TODO:\n    this.#datasets = datasets;\n  }\n\n  fetchPropertyValues(propertyId, categoryId) {\n    const property = this.getProperty(propertyId);\n    return new Promise((resolve, reject) => {\n      if (categoryId && property.values.findIndex(value => value.parentCategoryId === categoryId) !== -1) {\n        resolve(property.values.filter(value => value.parentCategoryId === categoryId));\n      } else {\n        fetch(`${property.data}${categoryId ? `?categoryIds=${categoryId}` : ''}`)\n        .then(responce => responce.json())\n        .then(values => {\n          // set parent category id\n          if (categoryId) values.forEach(value => value.parentCategoryId = categoryId);\n          // set values\n          property.values.push(...values);\n          resolve(values);\n        })\n        .catch(error => reject(error));\n      }\n    });\n  }\n\n  getCategory(id) {\n    return this.#categories.find(category => category.id === id);\n  }\n\n  getCategoryWithAttribute(attribute) {\n    return this.#categories.find(category => category.attributes.indexOf(attribute) !== -1);\n  }\n\n  getSubjectWithPropertyId(propertyId) {\n    const subject = this.#subjects.find(subject => subject.properties.some(property => property.propertyId === propertyId));\n    return subject;\n  }\n\n  getProperty(propertyId) {\n    const property = this.#properties.find(property => property.propertyId === propertyId);\n    return property;\n  }\n\n  getValue(propertyId, categoryId) {\n    const property = this.getProperty(propertyId);\n    const value = property.values.find(value => value.categoryId === categoryId);\n    return value;\n  }\n\n  getValuesWithParentCategoryId(propertyId, parentCategoryId) {\n    const property = this.getProperty(propertyId);\n    return property.values.filter(value => value.parentCategoryId === parentCategoryId);\n  }\n\n  getAncestors(propertyId, categoryId) {\n    const property = this.getProperty(propertyId);\n    const ancestors = [];\n    let parent;\n    do { // find ancestors\n      parent = property.values.find(value => value.categoryId === categoryId);\n      if (parent) ancestors.unshift(parent);\n      categoryId = parent?.parentCategoryId;\n    } while (parent);\n    ancestors.pop();\n    return ancestors;\n  }\n\n  getDatasetLabel(dataset) {\n    return this.#datasets[dataset].label;\n  }\n\n  // public accessors\n\n  get subjects() {\n    return this.#subjects;\n  }\n\n  get properties() {\n    return this.#properties;\n  }\n}\n\nexport default new Records();\n","import Records from \"./Records\";\n\nexport default class BaseCondition {\n\n  _propertyId;\n  #key;\n  #subjectId;\n  #dataset;\n\n  constructor(propertyId) {\n    this._propertyId = propertyId;\n  }\n\n\n  // accessor\n\n  get propertyId() {\n    return this._propertyId;\n  }\n\n  get key() {\n    if (!this.#key) {\n      this.#key = Records.getProperty(this._propertyId);\n    }\n    return this.#key;\n  }\n\n  get subjectId() {\n    if (!this.#subjectId) {\n      this.#subjectId = this.key.subjectId;\n    }\n    return this.#subjectId;\n  }\n\n  get dataset() {\n    if (!this.#dataset) {\n      this.#dataset = this.key.primaryKey;\n    }\n    return this.#dataset;\n  }\n\n}","import BaseCondition from \"./BaseCondition\";\nimport Records from \"./Records\";\n\nexport default class KeyCondition extends BaseCondition {\n\n  #parentCategoryId;\n  #value;\n\n  constructor(propertyId, parentCategoryId) {\n    super(propertyId);\n    this.#parentCategoryId = parentCategoryId;\n  }\n\n\n  // methods\n  \n  /**\n   * \n   * @param {String} propertyId \n   * @param {String} parentCategoryId \n   * @return {Boolean}\n   */\n  isSameCondition(propertyId, parentCategoryId) {\n    if (propertyId === this._propertyId) {\n      if (parentCategoryId) {\n        return parentCategoryId === this.#parentCategoryId;\n      } else {\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  getURLParameter() {\n    const key = {\n      propertyId: this.propertyId\n    };\n    if (this.#parentCategoryId) {\n      key.id = {\n        categoryId: this.#parentCategoryId,\n        ancestors: Records.getAncestors(this.propertyId, this.#parentCategoryId).map(ancestor => ancestor.categoryId)\n      }\n    }\n    return key;\n  }\n\n\n  // accessor\n\n\n  get parentCategoryId() {\n    return this.#parentCategoryId;\n  }\n\n  get label() {\n    if (this.#parentCategoryId) {\n      return this.value.label;\n    } else {\n      return this.key.label;\n    }\n  }\n\n  get value() {\n    if (!this.#value) {\n      this.#value = Records.getValue(this._propertyId, this.#parentCategoryId);\n    }\n    return this.#value;\n  }\n\n  get query() {\n    const query = {\n      attribute: this._propertyId\n    };\n    if (this.#parentCategoryId) query.node = this.#parentCategoryId;\n    return query;\n  }\n\n}\n","import BaseCondition from \"./BaseCondition\";\nimport Records from \"./Records\";\n\nexport default class ValuesCondition extends BaseCondition {\n\n  #categoryIds;\n\n  constructor(propertyId, categoryIds) {\n    super(propertyId);\n    this.#categoryIds = categoryIds;\n  }\n\n\n  // methods\n\n  addCategoryId(categoryId) {\n    this.#categoryIds.push(categoryId);\n  }\n\n  removeCategoryId(categoryId) {\n    const index = this.#categoryIds.indexOf(categoryId);\n    this.#categoryIds.splice(index, 1);\n  }\n\n  getURLParameter() {\n    const values = {\n      propertyId: this.propertyId,\n      ids: []\n    }\n    this.#categoryIds.forEach(categoryId => {\n      const id = {categoryId};\n      const ancestors = Records.getAncestors(this.propertyId, categoryId).map(ancestor => ancestor.categoryId);\n      if (ancestors.length > 0) id.ancestors = ancestors;\n      values.ids.push(id);\n    })\n    return values;\n}\n\n\n  // accessor\n\n  get categoryIds() {\n    return this.#categoryIds;\n  }\n\n  get label() {\n    return this.key.label;\n  }\n\n  get query() {\n    return {\n      attribute: this.propertyId,\n      nodes: this.categoryIds\n    }\n  }\n\n}\n","import KeyCondition from \"./KeyCondition\";\nimport ValuesCondition from \"./ValuesCondition\";\n\nexport default class DXCondition {\n\n  #togoKey;\n  #keyConditions;\n  #valuesConditions;\n\n  constructor(togoKey, keyConditions, valuesConditions) {\n    this.#togoKey = togoKey;\n    this.#keyConditions = this.#copyKeyConditions(keyConditions);\n    this.#valuesConditions = this.#copyValuesConditions(valuesConditions);\n  }\n\n\n  // methods\n\n  /**\n   * \n   * @param {DXCondition} dxCondition \n   * @return Boolean\n   */\n  checkSameCondition(dxCondition) {\n    // keys\n    let matchKeys = false;\n    if (this.keyConditions.length === dxCondition.keyConditions.length) {\n      matchKeys = this.keyConditions.every(keyCondition => {\n        return dxCondition.keyConditions.findIndex(newKeyCondition => {\n          return (\n            keyCondition.propertyId === newKeyCondition.propertyId &&\n            keyCondition.parentCategoryId === newKeyCondition.parentCategoryId\n          );\n        }) !== -1;\n      });\n    }\n    // values\n    let matchValues = false;\n    if (this.valuesConditions.length === dxCondition.valuesConditions.length) {\n      matchValues = this.valuesConditions.every(valuesCondition => {\n        return dxCondition.valuesConditions.findIndex(newValuesCondition => {\n          return (\n            valuesCondition.propertyId === newValuesCondition.propertyId &&\n            (\n              valuesCondition.categoryIds.length === newValuesCondition.categoryIds.length &&\n              valuesCondition.categoryIds.every(categoryId => {\n                return newValuesCondition.categoryIds.findIndex(newCategoryId => categoryId === newCategoryId) !== -1;\n              })\n            )\n          );\n        }) !== -1;\n      });\n    }\n    return dxCondition.togoKey === this.togoKey && matchKeys && matchValues;\n  }\n\n  #copyKeyConditions(keyConditions) {\n    return keyConditions.map(keyCondition => new KeyCondition(keyCondition.propertyId, keyCondition.parentCategoryId));\n  }\n\n  #copyValuesConditions(valuesConditions) {\n    return valuesConditions.map(valuesCondition => new ValuesCondition(valuesCondition.propertyId, [...valuesCondition.categoryIds]));\n  }\n\n\n  // accessor\n\n  get togoKey() {\n    return this.#togoKey;\n  }\n\n  get keyConditions() {\n    return this.#keyConditions;\n  }\n\n  get valuesConditions() {\n    return this.#valuesConditions;\n  }\n\n  get queryFilters() {\n    return encodeURIComponent(\n      JSON.stringify(\n        this.#valuesConditions\n          .map(\n            valuesConditions => valuesConditions.query\n          )\n      )\n    );\n  }\n\n  get queryAnnotations() {\n    return encodeURIComponent(\n      JSON.stringify(\n        this.#keyConditions\n          .map(\n            keyConditions => keyConditions.query\n          )\n      )\n    );\n  }\n\n}","// TogoKey\nexport const defineTogoKey = 'defineTogoKey';\n\n// User IDs\nexport const setUserValues = 'setUserValues';\nexport const clearUserValues = 'clearUserValues';\nexport const toggleErrorUserValues = 'toggleErrorUserValues';\n\n// View mode\nexport const changeViewModes = 'changeViewModes';\n\n// Condition\nexport const mutatePropertyCondition = 'mutatePropertyCondition';\nexport const mutatePropertyValueCondition = 'mutatePropertyValueCondition';\nexport const mutateEstablishConditions = 'mutateEstablishConditions';\nexport const completeQueryParameter = 'completeQueryParameter';\nexport const restoreParameters = 'restoreParameters';\nexport const clearCondition = 'clearCondition';\n\n// Stanza\nexport const hideStanza = 'hideStanza';\nexport const showStanza = 'showStanza';\n\n// Popup\nexport const hidePopup = 'hidePopup';\nexport const showPopup = 'showPopup';\nexport const movePopup = 'movePopup';\n\n// Dragging\nexport const dragElement = 'dragElement';\n\n// Polling\nexport const failedFetchTableDataIds = 'failedFetchTableDataIds';\nexport const addNextRows = 'addNextRows';\n\n// Table data\nexport const selectTableData = 'selectTableData';\nexport const deleteTableData = 'deleteTableData';\nexport const highlightCol = 'highlightCol';\n\n// Track\nexport const enterPropertyValueItemView = 'enterPropertyValueItemView';\nexport const leavePropertyValueItemView = 'leavePropertyValueItemView';\nexport const allTracksCollapse = 'allTracksCollapse';\n\n// Statistics\nexport const changeStatisticsViewMode = 'changeStatisticsViewMode';\n\n// Column selector\nexport const changeColumnSelectorSorter = 'changeColumnSelectorSorter';\n\n// Collpase\nexport const collapsed = 'collapsed';\n","import DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport Records from \"./Records\";\nimport KeyCondition from \"./KeyCondition\";\nimport ValuesCondition from \"./ValuesCondition\";\nimport DXCondition from \"./DXCondition\";\nimport * as event from '../events';\n\nclass ConditionBuilder {\n\n  #keyConditions; // Array<KeyCondition>\n  #valuesConditions; // Array<ValuesCondition>\n  #togoKey;\n  #userIds;\n  #isRestoredConditinoFromURLParameters = false;\n  #preparingCounter;\n\n  constructor() {\n\n    this.#keyConditions = [];\n    this.#valuesConditions = [];\n    this.#preparingCounter = 0;\n    this.#isRestoredConditinoFromURLParameters = false;\n\n    // event listeners\n    window.addEventListener('popstate', this.#createSearchConditionFromURLParameters.bind(this));\n    DefaultEventEmitter.addEventListener(event.clearCondition, this.#clearConditinos.bind(this));\n\n  }\n\n  // public methods\n\n  init() {\n    this.#createSearchConditionFromURLParameters(true);\n  }\n\n  setSubject(togoKey) {\n    this.#togoKey = togoKey;\n    this.#postProcessing();\n  }\n\n  setUserIds(ids = '') {\n    this.#userIds = ids.replace(/,/g,\" \").split(/\\s+/).join(',');\n    // post processing (permalink, evaluate)\n    this.#postProcessing();\n  }\n\n  addProperty(propertyId, parentCategoryId, isFinal = true) {\n    // store\n    const keyCondiiton = new KeyCondition(propertyId, parentCategoryId);\n    this.#keyConditions.push(keyCondiiton);\n    // evaluate\n    if (isFinal) this.#postProcessing();\n    // dispatch event\n    const customEvent = new CustomEvent(event.mutatePropertyCondition, {detail: {action: 'add', propertyId, parentCategoryId}});\n    DefaultEventEmitter.dispatchEvent(customEvent);\n  }\n\n  addPropertyValue(propertyId, categoryId, ancestors = [], isFinal = true) {\n    // find value of same property\n    const sameValuesCondition = this.#valuesConditions.find(valuesCondition => valuesCondition.propertyId === propertyId);\n    // store\n    if (sameValuesCondition) {\n      sameValuesCondition.addCategoryId(categoryId);\n    } else {\n      const valuesCondition = new ValuesCondition(propertyId, [categoryId]);\n      this.#valuesConditions.push(valuesCondition);\n    }\n    // evaluate\n    if (isFinal) this.#postProcessing();\n    // dispatch event\n    const customEvent = new CustomEvent(event.mutatePropertyValueCondition, {detail: {action: 'add', propertyId, categoryId}});\n    DefaultEventEmitter.dispatchEvent(customEvent);\n  }\n\n  removeProperty(propertyId, parentCategoryId, isFinal = true) {\n    // remove from store\n    const index = this.#keyConditions.findIndex(keyCondition => keyCondition.isSameCondition(propertyId, parentCategoryId));\n    if (index === -1) return;\n    this.#keyConditions.splice(index, 1)[0];\n    // post processing (permalink, evaluate)\n    if (isFinal) this.#postProcessing();\n    // dispatch event\n    const customEvent = new CustomEvent(event.mutatePropertyCondition, {detail: {action: 'remove', propertyId, parentCategoryId}});\n    DefaultEventEmitter.dispatchEvent(customEvent);\n  }\n\n  removePropertyValue(propertyId, categoryId, isFinal = true) {\n    // remove from store\n    const index = this.#valuesConditions.findIndex(valuesCondition => {\n      if (valuesCondition.propertyId === propertyId) {\n        valuesCondition.removeCategoryId(categoryId);\n        return valuesCondition.categoryIds.length === 0;\n      } else {\n        return false;\n      }\n    });\n    if (index !== -1) this.#valuesConditions.splice(index, 1)[0];\n    // post processing (permalink, evaluate)\n    if (isFinal) this.#postProcessing();\n    // dispatch event\n    const customEvent = new CustomEvent(event.mutatePropertyValueCondition, {detail: {action: 'remove', propertyId, categoryId}});\n    DefaultEventEmitter.dispatchEvent(customEvent);\n  }\n\n  setProperties(conditions, isFinal = true) {\n    // delete existing properties\n    while (this.#keyConditions.length > 0) {\n      this.removeProperty(this.#keyConditions[0].propertyId, this.#keyConditions[0].parentCategoryId, false);\n    };\n    // set new properties\n    conditions.forEach(({propertyId, parentCategoryId}) => this.addProperty(propertyId, parentCategoryId, false));\n    // post processing (permalink, evaluate)\n    if (isFinal) this.#postProcessing();\n  }\n\n  setPropertyValues(propertyId, categoryIds, isFinal = true) {\n    // console.log(propertyId, categoryIds, isFinal)\n    const oldValuesCondition = this.#valuesConditions.find(valuesCondition => valuesCondition.propertyId === propertyId);\n    if (oldValuesCondition) {\n      const originalValues = Records.getProperty(propertyId).values;\n      originalValues.forEach(originalValue => {\n        const indexInNew = categoryIds.indexOf(originalValue.categoryId);\n        const indexInOld = oldValuesCondition.categoryIds.indexOf(originalValue.categoryId);\n        if (indexInNew !== -1) {\n          // if new value does not exist in old values, add property value\n          if (indexInOld === -1) this.addPropertyValue(propertyId, originalValue.categoryId, [], false);\n        } else {\n          // if extra value exists in old values, remove property value\n          if (indexInOld !== -1) this.removePropertyValue(propertyId, originalValue.categoryId, false);\n        }\n      });\n    } else {\n      for (const categoryId of categoryIds) {\n        this.addPropertyValue(propertyId, categoryId, [], false);\n      }\n    }\n    // post processing (permalink, evaluate)\n    if (isFinal) this.#postProcessing();\n  }\n\n  finish(dontLeaveInHistory) {\n    this.#postProcessing(dontLeaveInHistory);\n  }\n\n  makeQueryParameter() {\n    // emmit event\n    const customEvent = new CustomEvent(event.completeQueryParameter, {detail: new DXCondition(\n      this.#togoKey,\n      this.#keyConditions,\n      this.#valuesConditions\n    )});\n    DefaultEventEmitter.dispatchEvent(customEvent);\n  }\n\n  isSelectedProperty(propertyId, parentCategoryId) {\n    const keyCondiiton = this.#keyConditions.find(keyCondiiton => keyCondiiton.propertyId === propertyId && keyCondiiton.parentCategoryId === parentCategoryId);\n    return keyCondiiton !== undefined;\n  }\n\n  getSelectedCategoryIds(propertyId) {\n    const categoryIds = {\n      keys: [],\n      values: []\n    };\n    const keyConditions = this.#keyConditions.filter(keyCondition => keyCondition.propertyId === propertyId);\n    const valuesCondition = this.#valuesConditions.find(valuesCondition => valuesCondition.propertyId === propertyId);\n    if (keyConditions) categoryIds.keys.push(...keyConditions.map(keyCondiiton => keyCondiiton.parentCategoryId));\n    if (valuesCondition) categoryIds.values.push(...valuesCondition.categoryIds);\n    return categoryIds;\n  }\n\n\n  // public accessor\n\n  get currentTogoKey() {\n    return this.#togoKey;\n  }\n\n  get userIds() {\n    return this.#userIds === '' ? undefined : this.#userIds;\n  }\n\n\n  // private methods\n\n  #postProcessing(dontLeaveInHistory = true) {\n\n    if (!this.#isRestoredConditinoFromURLParameters) return;\n\n    // evaluate if search is possible\n    const established \n      = this.#togoKey\n      && (this.#keyConditions.length > 0 || this.#valuesConditions.length > 0);\n    const customEvent = new CustomEvent(event.mutateEstablishConditions, {detail: established});\n    DefaultEventEmitter.dispatchEvent(customEvent);\n\n    // get hierarchic conditions\n    const keys = this.#keyConditions.map(keyCondiiton => keyCondiiton.getURLParameter());\n    const values = this.#valuesConditions.map(valuesCondition => valuesCondition.getURLParameter());\n\n    // generate permalink\n    const params = new URL(location).searchParams;\n    params.set('togoKey', this.#togoKey);\n    // params.set('userIds', this.userIds ? this.userIds : '');\n    params.set('keys', JSON.stringify(keys));\n    params.set('values', JSON.stringify(values));\n    if (dontLeaveInHistory) window.history.pushState(null, '', `${window.location.origin}${window.location.pathname}?${params.toString()}`)\n  }\n\n  #createSearchConditionFromURLParameters(isFirst = false) {\n\n    // get conditions with ancestors\n    const params = new URL(location).searchParams;\n    const condition = {\n      togoKey: params.get('togoKey'),\n      // userIds: (params.get('userIds') ?? '').split(',').filter(id => id !== ''),\n      keys: JSON.parse(params.get('keys')) ?? [],\n      values: JSON.parse(params.get('values')) ?? []\n    }\n\n    if (isFirst) {\n      // get child category ids\n      this.#makeQueueOfGettingChildCategoryIds(condition);\n    } else {\n      this.#restoreConditions(condition);\n    }\n\n  }\n\n  #makeQueueOfGettingChildCategoryIds(condition) {\n    if (condition.togoKey) this.#togoKey = condition.togoKey;\n    const queue = [];\n    const addQueue = (propertyId, id) => {\n      const ancestors = [id.categoryId];\n      if (id.ancestors) ancestors.push(...id.ancestors);\n      ancestors.forEach(categoryId => {\n        if (queue.findIndex(task => task.propertyId === propertyId && task.categoryId === categoryId) === -1) {\n          queue.push({propertyId, categoryId});\n        }\n      });\n    };\n    condition.keys.forEach(({propertyId, id}) => {\n      if (id) addQueue(propertyId, id);\n    });\n    condition.values.forEach(({propertyId, ids}) => {\n      ids.forEach(id => addQueue(propertyId, id));\n    });\n    this.#progressQueueOfGettingChildCategoryIds(condition, queue);\n  }\n\n  #progressQueueOfGettingChildCategoryIds(condition, queue) {\n    if (queue.length > 0) {\n      const {propertyId, categoryId} = queue.shift();\n      this.#getChildCategoryIds(propertyId, categoryId)\n        .then(() => this.#progressQueueOfGettingChildCategoryIds(condition, queue));\n    } else {\n      this.#restoreConditions(condition);\n    }\n  }\n\n  #getChildCategoryIds(propertyId, categoryId) {\n    return new Promise((resolve, reject) => {\n      Records.fetchPropertyValues(propertyId, categoryId)\n        .then(values => {\n          resolve();\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  }\n\n  #restoreConditions({togoKey, userIds, keys, values}) {\n    \n    this.#isRestoredConditinoFromURLParameters = true;\n\n    // restore conditions\n    this.#togoKey = togoKey;\n    // this.#userIds = userIds;\n    const [properties, attributes] = this.#getCondtionsFromHierarchicConditions(keys, values);\n    this.setProperties(properties, false);\n    Records.properties.forEach(({propertyId}) => {\n      const property = attributes.find(property => property.propertyId === propertyId);\n      const categoryIds = [];\n      if (property) categoryIds.push(...property.categoryIds);\n      this.setPropertyValues(propertyId, categoryIds, false);\n    });\n    this.finish(false);\n\n    // dispatch event\n    const customEvent = new CustomEvent(event.restoreParameters, {detail: {togoKey, keys, values}});\n    DefaultEventEmitter.dispatchEvent(customEvent);\n\n  }\n\n  #clearConditinos() {\n    while (this.#keyConditions.length > 0) {\n      const {propertyId, parentCategoryId} = this.#keyConditions[0];\n      this.removeProperty(propertyId, parentCategoryId, false);\n    };\n    while (this.#valuesConditions.length > 0) {\n      const {propertyId, categoryIds} = this.#valuesConditions[0];\n      while (categoryIds.length > 0) {\n        this.removePropertyValue(propertyId, categoryIds[0], false);\n      }\n    };\n    this.#postProcessing();\n  }\n\n  #getCondtionsFromHierarchicConditions(keys, values) {\n    // restore conditions\n    const properties = keys.map(({propertyId, id}) => {\n      return {\n        propertyId,\n        parentCategoryId: id?.categoryId\n      }\n    });\n    const attributes = values.map(({propertyId, ids}) => {\n      return {\n        propertyId,\n        categoryIds: ids.map(id => id.categoryId)\n      }\n    });\n    return [properties, attributes];\n  }\n\n}\n\nexport default new ConditionBuilder();\n","import ConditionBuilder from \"./ConditionBuilder\";\nimport Records from \"./Records\";\nimport KeyCondition from \"./KeyCondition\";\nimport ValuesCondition from \"./ValuesCondition\";\n\nconst POLLING_DURATION = 100;\n\nexport default class StackingConditionView {\n\n  // #isRange;\n  #condition;\n  #ROOT;\n  #LABELS;\n  \n  /**\n   * \n   * @param {HTMLElement} container \n   * @param {String} type: 'property' or 'value'\n   * @param {keyCondition, valuesCondition} condition \n   */\n  constructor(container, type, condition, isRange = false) {\n\n    this.#condition = condition;\n    const subject = Records.getSubjectWithPropertyId(condition.propertyId);\n    const property = Records.getProperty(condition.propertyId);\n    // this.#isRange = isRange;\n    \n    // attributes\n    this.#ROOT = document.createElement('div');\n    this.#ROOT.classList.add('stacking-condition-view');\n    this.#ROOT.dataset.subjectId = subject.subjectId;\n    this.#ROOT.dataset.propertyId = condition.propertyId;\n    if (condition.value) this.#ROOT.dataset.categoryId = condition.value.categoryId;\n    if (condition.parentCategoryId) this.#ROOT.dataset.parentCategoryId = condition.parentCategoryId;\n    // make view\n    let label, ancestorLabels = [subject.subject];\n    switch(true) {\n      case this.#condition instanceof KeyCondition: {\n        if (condition.parentCategoryId) {\n          const getValue = () => {\n            const value = Records.getValue(condition.propertyId, condition.parentCategoryId);\n            if (value) {\n              const ancestors = Records.getAncestors(condition.propertyId, condition.parentCategoryId);\n              label = `<div class=\"label _subject-color\">${value.label}</div>`;\n              ancestorLabels.push(property.label, ...ancestors.map(ancestor => ancestor.label));\n              this.#make(container, type, ancestorLabels, label);\n            } else {\n              setTimeout(getValue, POLLING_DURATION);\n            }\n          }\n          getValue();\n        } else {\n          label = `<div class=\"label _subject-color\">${property.label}</div>`;\n          this.#make(container, type, ancestorLabels, label);\n        }\n      }\n        break;\n      case this.#condition instanceof ValuesCondition:\n        label = `<ul class=\"labels\"></ul>`;\n        ancestorLabels.push(property.label);\n        this.#make(container, type, ancestorLabels, label);\n        break;\n    }\n\n    // TODO: クリックイベントで当該要素を表示する\n  }\n\n\n  // private methods\n\n  #make(container, type, ancestorLabels, label) {\n    this.#ROOT.innerHTML = `\n    <div class=\"close-button-view\"></div>\n    <ul class=\"path\">\n      ${ancestorLabels.map(ancestor => `<li>${ancestor}</li>`).join('')}\n    </ul>\n    ${label}`;\n    container.insertAdjacentElement('beforeend', this.#ROOT);\n    // reference\n    if (this.#condition instanceof ValuesCondition) {\n      this.#LABELS = this.#ROOT.querySelector(':scope > .labels');\n      for (const categoryId of this.#condition.categoryIds) {\n        this.addValue(categoryId);\n      }\n    }\n\n    // event\n    this.#ROOT.querySelector(':scope > .close-button-view').addEventListener('click', () => {\n      switch (true) {\n        case this.#condition instanceof KeyCondition:\n          // notify\n          ConditionBuilder.removeProperty(this.#condition.propertyId, this.#condition.parentCategoryId);\n          break;\n        case this.#condition instanceof ValuesCondition:\n          for (const label of this.#LABELS.querySelectorAll(':scope > .label')) {\n            ConditionBuilder.removePropertyValue(this.#condition.propertyId, label.dataset.categoryId);\n          }\n          break;\n      }\n    });\n  }\n\n\n  // public methods\n\n  addValue(categoryId) {\n    const getValue = () => {\n      const value = Records.getValue(this.#condition.propertyId, categoryId);\n      if (value === undefined) {\n        setTimeout(getValue, POLLING_DURATION);\n      } else {\n        this.#LABELS.insertAdjacentHTML('beforeend', `<li class=\"label _subject-background-color\" data-category-id=\"${value.categoryId}\">${value.label}<div class=\"close-button-view\"></div></li>`);\n        // attach event\n        this.#LABELS.querySelector(':scope > .label:last-child').addEventListener('click', e => {\n          e.stopPropagation();\n          ConditionBuilder.removePropertyValue(this.#condition.propertyId, e.target.parentNode.dataset.categoryId);\n        });\n      }\n    }\n    getValue();\n  }\n\n  removeProperty(propertyId, parentCategoryId) {\n    const isMatch =\n      (propertyId === this.#condition.propertyId) &&\n      (parentCategoryId ? parentCategoryId === this.#condition.parentCategoryId : true);\n    if (isMatch) this.#ROOT.parentNode.removeChild(this.#ROOT);\n    return isMatch;\n  }\n\n  removePropertyValue(propertyId, categoryId) {\n    if (propertyId === this.#condition.propertyId) {\n      this.#LABELS.removeChild(this.#LABELS.querySelector(`:scope > [data-category-id=\"${categoryId}\"`));\n      if (this.#LABELS.childNodes.length === 0) {\n        this.#ROOT.parentNode.removeChild(this.#ROOT);\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  sameProperty(propertyId) {\n    return propertyId === this.#condition.propertyId;\n  }\n\n}","import ConditionBuilder from \"./ConditionBuilder\";\nimport DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport StackingConditionView from \"./StackingConditionView\";\nimport KeyCondition from \"./KeyCondition\";\nimport ValuesCondition from \"./ValuesCondition\";\nimport * as event from '../events';\n\nconst POLLING_DURATION = 100;\n\nexport default class ConditionBuilderView {\n\n  #properties;\n  #propertyValues;\n  #isDefined;\n  #placeHolderExamples;\n  #TOGO_KEYS;\n  #USER_IDS;\n  #PROPERTIES_CONDITIONS_CONTAINER;\n  #ATTRIBUTES_CONDITIONS_CONTAINER;\n  #EXEC_BUTTON;\n\n  constructor(elm) {\n\n    this.#properties = [];\n    this.#propertyValues = [];\n    this.#isDefined = false;\n  \n    // references\n    const conditionsContainer = elm.querySelector(':scope > .conditions');\n    this.#TOGO_KEYS = conditionsContainer.querySelector('#ConditionTogoKey > .inner > select');\n    this.#USER_IDS = elm.querySelector('#UploadUserIDsView > textarea');\n    this.#PROPERTIES_CONDITIONS_CONTAINER = document.querySelector('#ConditionValues > .inner > .conditions');\n    this.#ATTRIBUTES_CONDITIONS_CONTAINER = document.querySelector('#ConditionKeys > .inner > .conditions');\n    this.#EXEC_BUTTON = elm.querySelector(':scope > footer > button.exec');\n\n    // attach event\n    document.querySelector('#ConditionKeys').addEventListener('click', () => document.body.dataset.condition = 'value');\n    document.querySelector('#ConditionValues').addEventListener('click', () => document.body.dataset.condition = 'key');\n    this.#EXEC_BUTTON.addEventListener('click', () => {\n      document.body.dataset.display = 'results';\n      ConditionBuilder.makeQueryParameter();\n    });\n    elm.querySelector(':scope > footer > button.return').addEventListener('click', () => {\n      document.body.dataset.display = 'properties';\n    });\n    elm.querySelector(':scope > header > button.rounded-button-view').addEventListener('click', () => {\n      const customEvent = new CustomEvent(event.clearCondition);\n      DefaultEventEmitter.dispatchEvent(customEvent);\n    });\n\n    // event listeners\n    DefaultEventEmitter.addEventListener(event.mutatePropertyCondition, e => {\n      switch (e.detail.action) {\n        case 'add':\n          this.#addProperty(e.detail.propertyId, e.detail.parentCategoryId);\n          break;\n        case 'remove':\n          this.#removeProperty(e.detail.propertyId, e.detail.parentCategoryId);\n          break;\n      }\n    });\n    DefaultEventEmitter.addEventListener(event.mutatePropertyValueCondition, e => {\n      switch (e.detail.action) {\n        case 'add':\n          this.#addPropertyValue(e.detail.propertyId, e.detail.categoryId);\n          break;\n        case 'remove':\n          this.#removePropertyValue(e.detail.propertyId, e.detail.categoryId);\n          break;\n      }\n    });\n    DefaultEventEmitter.addEventListener(event.defineTogoKey, this.#defineTogoKeys.bind(this));\n    DefaultEventEmitter.addEventListener(event.mutateEstablishConditions, e => {\n      this.#EXEC_BUTTON.disabled = !e.detail;\n    });\n\n  }\n  \n\n  // private methods\n\n  #defineTogoKeys({detail: {datasets}}) {\n    this.#isDefined = true;\n    this.#placeHolderExamples = Object.fromEntries(Object.keys(datasets).map(key => [key, datasets[key].examples]));\n    // make options\n    this.#TOGO_KEYS.innerHTML = Object.keys(datasets)\n      .filter(key => datasets[key].target)\n      .map(key => `<option value=\"${key}\" data-subject-id=\"hoge\">${datasets[key].label}</option>`)\n      .join('');\n    this.#TOGO_KEYS.disabled = false;\n    this.#TOGO_KEYS.value = ConditionBuilder.currentTogoKey;\n    // attach event\n    this.#TOGO_KEYS.addEventListener('change', e => {\n      ConditionBuilder.setSubject(e.target.value);\n      this.#USER_IDS.placeholder = `e.g. ${this.#placeHolderExamples[e.target.value].join(', ')}`;\n    });\n    // preset\n    const togoKey = ConditionBuilder.currentTogoKey;\n    if (togoKey && Array.from(this.#TOGO_KEYS.options).map(option => option.value).indexOf(togoKey) !== -1) {\n      this.#TOGO_KEYS.value = togoKey;\n    } else {\n      this.#TOGO_KEYS.options[0].selected = true;\n    }\n    this.#TOGO_KEYS.dispatchEvent(new Event('change'));\n  }\n\n  #addProperty(propertyId, parentCategoryId) {\n    // modifier\n    this.#PROPERTIES_CONDITIONS_CONTAINER.classList.remove('-empty');\n    // make view\n    this.#properties.push(new StackingConditionView(this.#PROPERTIES_CONDITIONS_CONTAINER, 'key', new KeyCondition(propertyId, parentCategoryId)));\n  }\n  \n  #removeProperty(propertyId, parentCategoryId) {\n    // remove from array\n    const index = this.#properties.findIndex(stackingConditionView => stackingConditionView.removeProperty(propertyId, parentCategoryId));\n    this.#properties.splice(index, 1);\n    // modifier\n    if (this.#properties.length === 0) this.#PROPERTIES_CONDITIONS_CONTAINER.classList.add('-empty');\n  }\n\n  #addPropertyValue(propertyId, categoryId) {\n    // modifier\n    this.#ATTRIBUTES_CONDITIONS_CONTAINER.classList.remove('-empty');\n    // find a condition view has same property id\n    const stackingConditionView = this.#propertyValues.find(stackingConditionView => stackingConditionView.sameProperty(propertyId));\n    if (stackingConditionView) {\n      // if it exists, add new categoryId\n      stackingConditionView.addValue(categoryId);\n    } else {\n      // otherwise, make new condition view\n      this.#propertyValues.push(new StackingConditionView(this.#ATTRIBUTES_CONDITIONS_CONTAINER, 'value', new ValuesCondition(propertyId, [categoryId])));\n    }\n  }\n\n  #removePropertyValue(propertyId, categoryId) {\n    // remove from array\n    const index = this.#propertyValues.findIndex(stackingConditionView => stackingConditionView.removePropertyValue(propertyId, categoryId));\n    if (index !== -1) this.#propertyValues.splice(index, 1);\n    // modifier\n    if (this.#propertyValues.length === 0) this.#ATTRIBUTES_CONDITIONS_CONTAINER.classList.add('-empty');\n  }\n\n}","import * as event from '../events';\n\nexport default function collapseView(elm) {\n  const button = elm.querySelector(`.collapsebutton[data-collapse=\"${elm.dataset.collapse}\"]`);\n  const content = elm.querySelector(`.collapsingcontent[data-collapse=\"${elm.dataset.collapse}\"]`);\n  button.addEventListener('click', () => {\n    elm.classList.toggle('-spread');\n    button.classList.toggle('-spread');\n    content.classList.toggle('-spread');\n\n    // messaging\n    content.querySelectorAll('[data-capturing-collapse=true]').forEach(node => {\n      node.dispatchEvent(new CustomEvent(event.collapsed, {detail: content.classList.contains('-spread')}));\n    });\n  });\n}\n","import DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport ConditionBuilder from \"./ConditionBuilder\";\nimport App from \"./App\";\nimport * as event from '../events';\n\nexport default class ColumnItemView {\n\n  #label;\n  #count;\n  #categoryId;\n  #index;\n  #ROOT;\n  #INPUT_VALUE;\n  #INPUT_KEY;\n\n  constructor(column, {count, categoryId, hasChild, label}, index, selectedCategoryIds) {\n\n    this.#label = label;\n    this.#count = count;\n    this.#categoryId = categoryId;\n    this.#index = index;\n\n    // make HTML\n    this.#ROOT = document.createElement('tr');\n    this.#ROOT.classList.add('item');\n    if (hasChild) this.#ROOT.classList.add('-haschild');\n    this.#ROOT.dataset.id = categoryId;\n    this.#ROOT.dataset.count = count;\n    this.#ROOT.innerHTML = `\n    <td class=\"label\">\n      <label class=\"key\">\n        <input type=\"checkbox\" value=\"${categoryId}\"/>\n        ${label}\n      </label>\n      <label class=\"value\">\n        <input type=\"checkbox\" value=\"${categoryId}\"/>\n        ${label}\n      </label>\n    </td>\n    <td class=\"total\">${count.toLocaleString()}</td>\n    <td class=\"mapped\"></td>\n    <td class=\"pvalue\"></td>\n    <td class=\"drilldown\"></td>`;\n\n    this.#INPUT_VALUE = this.#ROOT.querySelector(':scope > td.label > label.value > input');\n    this.#INPUT_KEY = this.#ROOT.querySelector(':scope > td.label > label.key > input');\n    if (selectedCategoryIds.keys.indexOf(categoryId) !== -1) this.#INPUT_KEY.checked = true;\n    if (selectedCategoryIds.values.indexOf(categoryId) !== -1) this.#INPUT_VALUE.checked = true;\n\n    // even listener\n    this.#INPUT_KEY.addEventListener('change', e => {\n      if (e.target.checked) {\n        ConditionBuilder.addProperty(column.propertyId, categoryId);\n      } else {\n        ConditionBuilder.removeProperty(column.propertyId, categoryId);\n      }\n    });\n    DefaultEventEmitter.addEventListener(event.mutatePropertyCondition, ({detail}) => {\n      if (detail.action === 'remove') {\n        if (column.propertyId === detail.propertyId) {\n          if (detail.parentCategoryId && categoryId === detail.parentCategoryId) {\n            this.#INPUT_KEY.checked = detail.action === 'add';\n          }\n        }\n      }\n    });\n    DefaultEventEmitter.addEventListener(event.mutatePropertyValueCondition, ({detail}) => {\n      if (column.propertyId === detail.propertyId && categoryId === detail.categoryId) {\n        this.#INPUT_VALUE.checked = detail.action === 'add';\n      }\n    });\n    DefaultEventEmitter.addEventListener(event.setUserValues, ({detail: {propertyId, values}}) => {\n      if (column.propertyId === propertyId) this.setUserValues(values);\n    });\n    DefaultEventEmitter.addEventListener(event.clearUserValues, this.#clearUserValues.bind(this));\n\n    // select/deselect a item (attribute) > label\n    this.#INPUT_VALUE.addEventListener('click', column.checkValue.bind(column));\n\n    // drill down\n    if (hasChild) {\n      const drilldown = this.#ROOT.querySelector(':scope > .drilldown');\n      drilldown.addEventListener('click', column.drillDown.bind(column));\n    }\n\n  }\n\n\n  // private methods\n\n  #clearUserValues() {\n    this.#ROOT.classList.remove('-pinsticking');\n  }\n\n\n  // public methods\n\n  update(color, isLog10, max) {\n    const count = isLog10 ? Math.log10(this.#count) : this.#count;\n    this.#ROOT.style.backgroundColor = `rgb(${color.mix(App.colorWhite, 1 - count / max).coords.map(cood => cood * 256).join(',')})`;\n  }\n\n  setUserValues(values) {\n    const value = values.find(value => value.categoryId === this.#categoryId);\n    if (value) {\n      this.#ROOT.classList.add('-pinsticking');\n      this.#ROOT.querySelector(':scope > .mapped').textContent = value.hit_count ? value.hit_count.toLocaleString() : '';\n      this.#ROOT.querySelector(':scope > .pvalue').textContent = value.pValue ? value.pValue.toExponential(2) : '';\n      if (value.hit_count === 0) this.#ROOT.classList.remove('-pinsticking');\n      else this.#ROOT.classList.add('-pinsticking');\n\n    }\n  }\n\n\n  // accessors\n\n  get label() {\n    return this.#label;\n  }\n\n  get count() {\n    return this.#count;\n  }\n\n  get index() {\n    return this.#index;\n  }\n\n  get categoryId() {\n    return this.#categoryId;\n  }\n\n  get rootNode() {\n    return this.#ROOT;\n  }\n\n}\n","import DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport * as event from '../events';\n\nconst SORTABLE_COLUMNS = ['label', 'total'];\n\nclass ColumnSelectorSortManager {\n\n  #status;\n\n  constructor() {\n\n    // get data from local strage\n    const column = window.localStorage.getItem('sortColumn');\n    const status = window.localStorage.getItem('sortDirectionEachOfColumns');\n    if (status) {\n      this.#status = new Map(JSON.parse(status));\n    } else {\n      this.#status = new Map(SORTABLE_COLUMNS.map(column => [column, '']));\n    }\n    this.#setDocument(column);\n\n  }\n\n\n  // private methods\n\n  #setDocument(column) {\n    document.body.dataset.sortColumn = column;\n    document.body.dataset.sortDirection = this.#status.get(column);\n  }\n\n\n  // public methods\n\n  setSort(column) {\n\n    // set sort\n    const direction = ({\n      '': 'asc',\n      asc: 'desc',\n      desc: ''\n    })[this.#status.get(column)];\n    this.#status.set(column, direction);\n    this.#setDocument(column);\n\n    // dispatch event\n    const customEvent = new CustomEvent(event.changeColumnSelectorSorter, {detail: {column, direction}});\n    DefaultEventEmitter.dispatchEvent(customEvent);\n\n    // set local storage\n    window.localStorage.setItem('sortColumn', column);\n    window.localStorage.setItem('sortDirectionEachOfColumns', JSON.stringify(Array.from(this.#status)));\n  }\n\n\n  // accessors\n\n  get sortableColumns() {\n    return SORTABLE_COLUMNS;\n  }\n\n  get sortDescriptor() {\n    const column = document.body.dataset.sortDirection === '' ? '' : document.body.dataset.sortColumn;\n    const direction = document.body.dataset.sortDirection;\n    return {column, direction};\n  }\n\n}\n\nexport default new ColumnSelectorSortManager();\n","import App from '../classes/App';\nimport ConditionBuilder from '../classes/ConditionBuilder';\n\nexport function dataFromUserIds(propertyId, categoryIds = '') {\n  return `${\n    App.locate\n  }?attribute=${\n    propertyId\n  }&categoryIds=${\n    categoryIds\n  }&togokey=${\n    ConditionBuilder.currentTogoKey\n  }&queries=${\n    ConditionBuilder.userIds ?? ''\n  }`\n}\n","import ColumnItemView from \"./ColumnItemView\";\nimport ConditionBuilder from \"./ConditionBuilder\";\nimport DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport ColumnSelectorSortManager from \"./ColumnSelectorSortManager\";\nimport App from \"./App\";\nimport Records from \"./Records\";\nimport * as event from '../events';\nimport * as queryTemplates from '../functions/queryTemplates';\n\nexport default class ColumnView {\n\n  #depth;\n  #selector;\n  #max;\n  #parentCategoryId;\n  #columnItemViews;\n  #cachedUserValues;\n  #ROOT;\n  #TBODY;\n\n  constructor(\n    selector,\n    values,\n    depth,\n    parentCategoryId\n  ) {\n\n    // set members\n    this.#depth = depth;\n    this.#selector = selector;\n    this.#parentCategoryId = parentCategoryId;\n    this.#cachedUserValues = new Map();\n\n    // draw\n    this.#draw(values);\n\n    // even listener\n    DefaultEventEmitter.addEventListener(event.changeViewModes, this.#update.bind(this));\n    DefaultEventEmitter.addEventListener(event.changeColumnSelectorSorter, this.#update.bind(this));\n    this.#ROOT.addEventListener(event.collapsed, e => {\n      if (e.detail) this.#update();\n    })\n  }\n\n  #draw(values) {\n\n    // make column\n    this.#ROOT = document.createElement('div');\n    this.#ROOT.classList.add('column');\n    this.#ROOT.dataset.capturingCollapse = true;\n    this.#ROOT.dataset.parentCategoryId = this.#parentCategoryId ?? '';\n    this.#max = 0;\n    this.#ROOT.innerHTML = `\n    <table>\n      <thead>\n        <tr class=\"header\">\n          <th class=\"label\">Values</th>\n          <th class=\"total\">Total</th>\n          <th class=\"mapped\">Mapped</th>\n          <th class=\"pvalue\">p-value</th>\n          <th class=\"drilldown\"></th>\n        </tr>\n      </thead>\n      <tbody></tbody>\n    </table>`;\n    this.#TBODY = this.#ROOT.querySelector(':scope > table > tbody');\n    const selectedCategoryIds = ConditionBuilder.getSelectedCategoryIds(this.propertyId);\n    this.#columnItemViews = values.map((value, index) => {\n      this.#max = Math.max(this.#max, value.count);\n      // add item\n      const columnItemView = new ColumnItemView(this, value, index, selectedCategoryIds);\n      this.#TBODY.append(columnItemView.rootNode);\n      return columnItemView;\n    });\n\n    // attach sort function\n    const theadCells = Array.from(this.#ROOT.querySelectorAll(':scope > table > thead > tr > th'));\n    ColumnSelectorSortManager.sortableColumns.forEach(sortableColumn => {\n      const cell = theadCells.find(cell => cell.classList.contains(sortableColumn));\n      cell.classList.add('-sortable');\n      cell.insertAdjacentHTML('beforeend', `<div class=\"sorter\" data-column=\"${sortableColumn}\"></div>`);\n    });\n    this.#ROOT.querySelectorAll(':scope > table > thead > tr > .-sortable').forEach(sortable => {\n      sortable.addEventListener('click', ({target}) => {\n        const sorter = target.querySelector(':scope > .sorter');\n        ColumnSelectorSortManager.setSort(sorter.dataset.column);\n      });\n    });\n  }\n\n  #update() {\n    if (this.#selector.isShowing && this.#existed) {\n      this.#sort();\n      this.#heatmap();\n    }\n  }\n\n  #sort() {\n    const sortDescriptor = ColumnSelectorSortManager.sortDescriptor;\n    // sorted by 'label' or 'total (= count)'\n    const column = {\n      '': 'index',\n      label: 'label',\n      total: 'count'\n    }[sortDescriptor.column];\n    const items = this.#columnItemViews.map(columnItemView => {\n      return {\n        index: columnItemView.index,\n        value: columnItemView[column]\n      }\n    });\n    switch(sortDescriptor.column) {\n      case 'label':\n        items.sort((a, b) => a.value > b.value ? 1 : -1);\n        break;\n      case 'total':\n        items.sort((a, b) => b.value - a.value);\n        break;\n    }\n    if (sortDescriptor.direction === 'desc') items.reverse();\n    // replace\n    items.forEach(item => {\n      this.#TBODY.append(this.#columnItemViews[item.index].rootNode);\n    });\n  }\n\n  #heatmap() {\n    const isLog10 = App.viewModes.log10;\n    let max = isLog10 && this.#max > 1 ? Math.log10(this.#max) : this.#max;\n    const category = Records.getCategoryWithAttribute(this.propertyId);\n    this.#columnItemViews.forEach(columnItemView => {\n      columnItemView.update(category.color, isLog10, max);\n    });\n  }\n\n  #getUserValues(query) {\n    return new Promise((resolve, reject) => {\n      const values = this.#cachedUserValues.get(query);\n      if (values) {\n        resolve(values);\n      } else {\n        axios\n          .get(query)\n          .then(response => {\n            this.#cachedUserValues.set(query, response.data);\n            resolve(response.data);\n          });\n      }\n    });\n  }\n\n\n  // public Methods\n\n  appended() {\n    this.#update();\n\n    // user IDs\n    if (document.body.classList.contains('-showuserids') && ConditionBuilder.userIds) {\n      this.#getUserValues(\n        queryTemplates.dataFromUserIds(\n          this.#selector.sparqlet,\n          this.#selector.primaryKey,\n          this.#parentCategoryId\n          )\n        )\n        .then(values => {\n          console.log(values)\n          this.#columnItemViews.forEach(columnItemView => columnItemView.setUserValues(values));\n        });\n    }\n  }\n\n  checkValue(e) {\n    e.stopPropagation();\n    const checkbox = e.target;\n    const ancestors = [];\n    let parentCategoryId;\n    let column = checkbox.closest('.column');\n    do { // find ancestors\n      parentCategoryId = column?.dataset.parentCategoryId;\n      if (parentCategoryId) {\n        ancestors.unshift(parentCategoryId);\n        column = column.previousElementSibling;\n      }\n    } while (parentCategoryId);\n    if (checkbox.checked) { // add\n      ConditionBuilder.addPropertyValue(\n        this.propertyId,\n        checkbox.value,\n        ancestors\n      );\n    } else { // remove\n      ConditionBuilder.removePropertyValue(this.propertyId, checkbox.value);\n    }\n  }\n\n  // checkKey(e) {\n  // }\n\n  drillDown(e) {\n    const itemNode = e.target.closest('tr');\n    itemNode.classList.add('-selected');\n    this.#selector.drillDown(itemNode.dataset.id, this.#depth);\n  }\n\n\n  // accessors\n\n  get #existed() {\n    return this.#ROOT.parentNode !== null;\n  }\n\n  get depth() {\n    return this.#depth;\n  }\n\n  get propertyId() {\n    return this.#selector.propertyId;\n  }\n\n  get parentCategoryId() {\n    return this.#parentCategoryId;\n  }\n\n  get rootNode() {\n    return this.#ROOT;\n  }\n\n}\n","import Records from \"./Records\";\nimport ColumnView from \"./ColumnView\";\n\nexport default class ColumnSelectorView {\n\n  #property;\n  #items;\n  #columnViews;\n  #currentColumnViews;\n  #ROOT;\n  #CONTAINER;\n  #LOADING_VIEW;\n  #CONTAINED_VIEW;\n\n  constructor(elm, property, items) {\n\n    this.#property = property;\n    this.#items = {};\n    this.#columnViews = [];\n    this.#currentColumnViews = [];\n\n    // make container\n    elm.innerHTML = `\n    <div class=\"column-selector-view\">\n      <div class=\"columns\">\n        <div class=\"inner\"></div>\n      </div>\n      <div class=\"loading-view\"></div>\n    </div>`;\n    this.#ROOT = elm.querySelector(':scope > .column-selector-view');\n    this.#CONTAINER = this.#ROOT.querySelector(':scope > .columns > .inner');\n    this.#LOADING_VIEW = this.#ROOT.querySelector(':scope > .loading-view');\n    this.#CONTAINED_VIEW = this.#ROOT.closest('.track-view');\n\n    const depth = 0;\n    this.#setItems(items, depth);\n\n    // make root column\n    const columnView = this.#makeCoumnView(items, depth);\n    this.#appendSubColumn(columnView, depth);\n  }\n\n\n  // private methods\n\n  #setItems(items, depth) {\n    for (const item of items) {\n      this.#items[item.categoryId] = {\n        depth,\n        selected: false,\n      }\n    }\n  }\n\n  #getColumn(categoryId, depth) {\n    return new Promise((resolve, reject) => {\n      const columnView = this.#columnViews.find(columnView => columnView.parentCategoryId === categoryId);\n      if (columnView) {\n        resolve(columnView);\n      } else {\n        Records.fetchPropertyValues(this.#property.propertyId, categoryId)\n          .then(values => {\n            this.#setItems(values, depth);\n            const columnView = this.#makeCoumnView(values, depth, categoryId);\n            resolve(columnView);\n          })\n          .catch(error => {\n            reject(error);\n          });\n      }\n    });\n  }\n\n  #makeCoumnView(values, depth, parentCategoryId) {\n    const columnView = new ColumnView(\n      this,\n      values,\n      depth,\n      parentCategoryId\n    );\n    this.#columnViews.push(columnView);\n    return columnView;\n  }\n\n  #setSubColumn(categoryId, depth) {\n    this.#LOADING_VIEW.classList.add('-shown');\n    this.#getColumn(categoryId, depth)\n      .then(column => {\n        this.#appendSubColumn(column, depth);\n        this.#LOADING_VIEW.classList.remove('-shown');\n      })\n      .catch(error => {\n        // TODO: エラー処理\n        this.#LOADING_VIEW.classList.remove('-shown');\n        throw Error(error);\n      });\n  }\n\n  #appendSubColumn(columnView, depth) {\n    this.#currentColumnViews[depth] = columnView;\n    this.#CONTAINER.append(columnView.rootNode);\n    columnView.appended();\n    // scroll\n    const left = this.#CONTAINER.scrollWidth - this.#CONTAINER.clientWidth;\n    if (left > 0) {\n      this.#CONTAINER.scrollTo({\n        top: 0,\n        left: left,\n        behavior: 'smooth'\n      });\n    };\n  }\n\n  #setSelectedValue(categoryId, selected) {\n    this.#items[categoryId].selected = selected;\n  }\n\n\n  // public methods\n\n  drillDown(categoryId, depth) {\n    // delete an existing lower columns\n    if (this.#currentColumnViews.length > depth + 1) {\n      for (let depth2 = depth + 1; depth2 < this.#currentColumnViews.length; depth2++) {\n        const column = this.#currentColumnViews[depth2];\n        if (column.rootNode.parentNode) column.rootNode.remove();\n      }\n    }\n    // deselect siblings\n    const selectedItemKeys = Object.keys(this.#items).filter(id => this.#items[id].selected && this.#items[id].depth >= depth);\n    for (const key of selectedItemKeys) {\n      this.#items[key].selected = false;\n      this.#currentColumnViews[depth].rootNode.querySelector(`[data-id=\"${key}\"]`)?.classList.remove('-selected');\n    }\n    // get lower column\n    this.#setSelectedValue(categoryId, true);\n    this.#setSubColumn(categoryId, depth + 1);\n  }\n\n\n  // accessors\n\n  get propertyId() {\n    return this.#property.propertyId;\n  }\n\n  get sparqlet() {\n    return this.#property.data;\n  }\n\n  get primaryKey() {\n    return this.#property.primaryKey;\n  }\n\n  get isShowing() {\n    return this.#CONTAINED_VIEW.classList.contains('-spread');\n  }\n\n}\n","import ConditionBuilder from \"./ConditionBuilder\";\n\nexport default class HistogramRangeSelectorController {\n\n  #target;\n  #selection;\n  #unit;\n  #SELECTING_AREA;\n  #SELECTOR_BARS;\n\n  constructor(target, selector) {\n\n    // definition\n    this.#target = target;\n    this.#unit = 100 / target.items.length;\n    this.#selection = {};\n    this.#defineSelection();\n\n    // reference\n    this.#SELECTING_AREA = selector.querySelector(':scope > .inner > .selectingarea');\n    this.#SELECTOR_BARS = selector.querySelectorAll(':scope > .inner > .overview > .bar');\n\n    // interaction\n    this.#defineInteraction(selector);\n  }\n\n\n  // private methods\n\n  #defineSelection() {\n    let selectionStart = 0, selectionEnd = 0;\n    const self = this;\n    Object.defineProperties(this.#selection, {\n      start: {\n        get() {\n          return selectionStart;\n        },\n        set(value) {\n          if (selectionStart !== value) {\n            selectionStart = value;\n            self.#update();\n          }\n        }\n      },\n      end: {\n        get() {\n          return selectionEnd;\n        },\n        set(value) {\n          if (selectionEnd !== value) {\n            selectionEnd = value;\n            self.#update();\n          }\n        }\n      },\n      range: {\n        get() {\n          return [selectionStart, selectionEnd];\n        },\n        set([start, end]) {\n          if (selectionStart !== start || selectionEnd !== end) {\n            selectionStart = start;\n            selectionEnd = end;\n            self.#update();\n          }\n        }\n      }\n    });\n  }\n\n  #defineInteraction(selector) {\n\n    let isMouseDown = false, startX, initialStart, initialEnd, initialWidth, totalWidth, interactionType, direction;\n\n    // references\n    const selectorController = selector.querySelector(':scope > .inner > .controller');\n    const handlesArray = Array.from(this.#SELECTING_AREA.querySelectorAll(':scope > .handle'));\n    const handles = {\n      left: handlesArray.filter(handle => handle.dataset.direction === 'start'),\n      right: handlesArray.filter(handle => handle.dataset.direction === 'end')\n    };\n\n    const init = (e) => {\n      e.stopImmediatePropagation();\n      totalWidth = selectorController.getBoundingClientRect().width;\n      isMouseDown = true;\n      const x = e.x - selectorController.getBoundingClientRect().x;\n      startX = (x / totalWidth) * 100;\n    }\n\n    // make selecting area\n    selectorController.addEventListener('mousedown', e => {\n      interactionType = 'make';\n      selector.classList.add('-makingarea');\n      init(e);\n    });\n\n    // drag selecting area\n    this.#SELECTING_AREA.addEventListener('mousedown', e => {\n      interactionType = 'drag';\n      selector.classList.add('-draggingarea');\n      initialStart = this.start;\n      initialWidth = this.width;\n      init(e);\n    });\n\n    // resize selecting area\n    handlesArray.forEach(handle => handle.addEventListener('mousedown', e => {\n      interactionType = 'resize';\n      direction = e.target.dataset.direction;\n      selector.classList.add('-resizingarea');\n      initialStart = this.start;\n      initialEnd = this.end;\n      init(e);\n    }));\n\n    // dragging behavior\n    selectorController.addEventListener('mousemove', e => {\n      if (isMouseDown) {\n        let range;\n        const x = (e.layerX / totalWidth) * 100;\n        switch (interactionType) {\n          case 'make': {\n            // calculate selection range\n            const selectedWidth = x - startX;\n            let start, end;\n            if (selectedWidth > 0) [start, end] = [startX, x];\n            else                   [start, end] = [x, startX];\n            range = [\n              Math.floor(start / this.#unit),\n              Math.ceil(end / this.#unit)\n            ];\n          }\n          break;\n          case 'drag': {\n            let translation = (x - startX) / this.#unit;\n            if      (translation < -.5) translation = Math.floor(translation + .5);\n            else if (.5 < translation)  translation = Math.ceil(translation - .5);\n            else                        translation = 0;\n            translation -= initialStart + translation < 0 ? initialStart + translation : 0;\n            translation -= initialStart + translation + initialWidth > this.#target.items.length ? initialStart + translation + initialWidth - this.#target.items.length : 0;\n            range = [\n              initialStart + translation,\n              initialStart + translation + initialWidth\n            ];\n          }\n          break;\n          case 'resize': {\n            let [start, end] = [initialStart, initialEnd];\n            switch (direction) {\n              case 'start':\n                start += Math.floor((x - startX) / this.#unit + .5);\n                if (end < start) [start, end] = [end, start];\n                break;\n              case 'end':\n                end += Math.ceil((x - startX) / this.#unit - .5)\n                if (end < start) [start, end] = [end, start];\n                break;\n            }\n            if (start < 0)                       start = 0;\n            if (this.#target.items.length < end) end = this.#target.items.length;\n            range = [start, end];\n          }\n          break;\n        }\n        this.#selection.range = range;\n      }\n    });\n    selectorController.addEventListener('mouseup', () => {\n      if (isMouseDown) {\n        selector.classList.remove('-makingarea');\n        selector.classList.remove('-draggingarea');\n        selector.classList.remove('-resizingarea');\n        isMouseDown = false;\n        this.#update();\n      }\n    });\n  }\n\n  #update() {\n    // selecting area\n    this.#SELECTING_AREA.style.left = (this.start * this.#unit) + '%';\n    this.#SELECTING_AREA.style.width = ((this.end - this.start) * this.#unit) + '%';\n    // overview\n    this.#SELECTOR_BARS.forEach((bar, index) => {\n      if (this.start <= index && index < this.end) bar.classList.add('-selected');\n      else bar.classList.remove('-selected');\n    });\n    this.#target.update();\n    // set condition\n    ConditionBuilder.setPropertyValues(\n      this.#target.propertyId,\n      this.selectedItems.map(item => item.categoryId),\n      false\n    );\n  }\n\n\n  // accessor\n\n  get start() {\n    return this.#selection.start;\n  }\n\n  get end() {\n    return this.#selection.end;\n  }\n\n  get width() {\n    return this.end - this.start;\n  }\n\n  get selectedItems() {\n    const items = [];\n    if (this.width !== 0) {\n        items.push(...this.#target.items.filter((item_, index) => {\n        if (this.start <= index && index < this.end) return true;\n        else return false;\n      }));\n    }\n    return items;\n  }\n  \n\n}\n","import Color from '../classes/Color';\nimport DefaultEventEmitter from '../classes/DefaultEventEmitter';\n\n/**\n *\n * @param {Color} baseColor\n * @param {Color} tintColor\n */\nexport function colorTintByHue(baseColor, hue) {\n  return baseColor\n    .mix(new Color('hsv', [hue, 70, 50]), 0.15)\n    .set({lightness: lightness => lightness * 1.1})\n    .to('srgb');\n}\n\nexport function createPopupEvent(uniqueEntry, newEvent) {\n  const [x, y] = uniqueEntry.getAttribute('data-order').split(',');\n  const customEvent = new CustomEvent(newEvent, {\n    detail: {\n      keys: {\n        dataKey: uniqueEntry.getAttribute('data-key'),\n        subjectId: uniqueEntry.getAttribute('data-subject-id'),\n        mainCategoryId: uniqueEntry.getAttribute('data-main-category-id'),\n        subCategoryId: uniqueEntry.getAttribute('data-sub-category-id'),\n        uniqueEntryId: uniqueEntry.getAttribute('data-unique-entry-id'),\n      },\n      properties: {\n        dataX: x,\n        dataY: y,\n        dataSubOrder: uniqueEntry.getAttribute('data-sub-order'),\n        isPrimaryKey: uniqueEntry.classList.contains('primarykey'),\n      },\n    },\n  });\n  DefaultEventEmitter.dispatchEvent(customEvent);\n}\n","import App from \"./App\";\nimport Records from './Records';\nimport DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport HistogramRangeSelectorController from \"./HistogramRangeSelectorController\";\nimport * as event from '../events';\nimport * as util from '../functions/util';\n\nconst NUM_OF_GRID = 4;\n\nexport default class HistogramRangeSelectorView {\n\n  #items;\n  #property;\n  #selectorController;\n  #OVERVIEW_CONTAINER;\n  #ROOT;\n  #GRIDS;\n\n  constructor(elm, property, items, overviewContainer) {\n    // console.log(elm, subject, property, items)\n\n    this.#property = property;\n    const category = Records.getCategoryWithAttribute(this.#property.propertyId);\n    this.#OVERVIEW_CONTAINER = overviewContainer;\n    this.#items = items.map(item => Object.assign({}, item));\n\n    // make container\n    elm.innerHTML = `\n    <div class=\"histogram-range-selector-view\">\n      <div class=\"selector\">\n        <div class=\"inner\">\n          <div class=\"overview\"></div>\n          <div class=\"controller\"></div>\n          <div class=\"selectingarea\">\n            <div class=\"handle\" data-direction=\"start\"></div>\n            <div class=\"handle\" data-direction=\"end\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"histogram\">\n        <div class=\"graph\"></div>\n        <div class=\"gridcontainer\">\n          ${'<div class=\"grid\"><p class=\"label\"></p></div>'.repeat(NUM_OF_GRID)}\n        </div>\n        <svg class=\"additionalline\"></svg>\n      </div>`;\n    this.#ROOT = elm.querySelector(':scope > .histogram-range-selector-view');\n    const histogram = this.#ROOT.querySelector(':scope > .histogram');\n    const selector = this.#ROOT.querySelector(':scope > .selector > .inner');\n    const overview = selector.querySelector(':scope > .overview');\n\n    // make graph\n    const max = Math.max(...this.#items.map(item => item.count));\n    const width = 100 / this.#items.length;\n    overview.innerHTML = this.#items.map(item => `<div\n      class=\"bar _subject-background-color\"\n      data-category-id=\"${item.categoryId}\"\n      data-count=\"${item.count}\"\n      style=\"width: ${width}%; height: ${(item.count / max) * 100}%;\"></div>`).join('');\n    const graph = histogram.querySelector(':scope > .graph');\n    graph.innerHTML = this.#items.map((item, index) => `<div class=\"bar\" data-category-id=\"${item.categoryId}\" data-count=\"${item.count}\">\n      <div class=\"actual\" style=\"background-color: rgb(${util.colorTintByHue(category.color, 360 * index / this.#items.length).coords.map(cood => cood * 256).join(',')});\"></div>\n      <p class=\"label\">${item.label}</p>\n    </div>`).join('');\n\n    // reference\n    histogram.querySelectorAll(':scope > .graph > .bar').forEach((item, index) => this.#items[index].elm = item);\n    this.#GRIDS = histogram.querySelectorAll(':scope > .gridcontainer > .grid');\n\n    // event\n    DefaultEventEmitter.addEventListener(event.changeViewModes, e => this.update());\n    \n    // this.#setupRangeSelector();\n    this.#selectorController = new HistogramRangeSelectorController(this, this.#ROOT.querySelector(':scope > .selector'));\n    this.update();\n  }\n\n\n  // private methods\n\n  #indicateValue() {\n\n  }\n\n\n  // public methods\n\n  update() {\n\n    const selectedItems = this.#selectorController.width === 0 ? this.#items : this.#selectorController.selectedItems;\n\n    const max = Math.max(...selectedItems.map(item => item.count));\n    const isLog10 = App.viewModes.log10;\n    const processedMax = isLog10 ? Math.log10(max) : max;\n    const width = 100 / selectedItems.length;\n\n    // grid\n    const digits = String(Math.ceil(max)).length;\n    const unit = Number(String(max).charAt(0).padEnd(digits, '0')) / NUM_OF_GRID;\n    this.#GRIDS.forEach((grid, index) => {\n      const scale = unit * index;\n      grid.style.bottom = `${(isLog10 ? Math.log10(scale) : scale) / processedMax * 100}%`;\n      grid.querySelector(':scope > .label').textContent = (scale).toLocaleString();\n    });\n\n    // graph\n    this.#items.forEach(item => {\n      if (selectedItems.indexOf(item) === -1) {\n        item.elm.classList.add('-filtered');\n      } else {\n        item.elm.classList.remove('-filtered');\n        const height = (isLog10 ? Math.log10(item.count) : item.count) / processedMax * 100;\n        item.elm.style.width = `${width}%`;\n        item.elm.querySelector(':scope > .actual').style.height = `${height}%`;\n        }\n    });\n  }\n\n\n  // public accessor\n\n  get items() {\n    return this.#items;\n  }\n\n  get propertyId() {\n    return this.#property.propertyId;\n  }\n\n}","import App from \"./App\";\nimport DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport ConditionBuilder from \"./ConditionBuilder\";\nimport Records from \"./Records\";\nimport * as event from '../events';\nimport * as util from '../functions/util';\n\nconst MIN_PIN_SIZE = 12;\nconst MAX_PIN_SIZE = 24;\nconst RANGE_PIN_SIZE = MAX_PIN_SIZE - MIN_PIN_SIZE;\n\nexport default class TrackOverviewCategorical {\n\n  #property;\n  #values;\n  #userValues;\n  #ROOT;\n\n  constructor(elm, property, values) {\n\n    this.#ROOT = elm;\n    this.#property = property;\n    this.#values = values.map(value => Object.assign({}, value));\n    const subject = Records.getSubjectWithPropertyId(this.#property.propertyId);\n    const selectedCategoryIds = ConditionBuilder.getSelectedCategoryIds(this.#property.propertyId);\n\n    // make overview\n    // TODO: ヒストグラムは別処理\n    const sum = values.reduce((acc, value) => acc + value.count, 0);\n    const width = 100 / values.length;\n    elm.innerHTML = this.#values.map((value, index) => {\n      value.countLog10 = value.count === 0 ? 0 : Math.log10(value.count);\n      value.width = value.count / sum * 100;\n      value.baseColor = util.colorTintByHue(subject.color, 360 * index / values.length);\n      // const selectedClass = selectedCategoryIds.values.indexOf(value.categoryId) !== -1 ? ' -selected' : ''; // TODO: 不要な処理かも？\n      const selectedClass = '';\n      return `\n        <li class=\"track-value-view _subject-background-color${selectedClass}\" style=\"width: ${width}%;\" data-category-id=\"${value.categoryId}\">\n          <div class=\"labels\">\n            <p>\n              <span class=\"label\">${value.label}</span>\n              <span class=\"count\">${value.count.toLocaleString()}</span>\n            </p>\n          </div>\n          <div class=\"pin\">\n            <span class=\"material-icons\">location_on</span>\n          </div>\n        </li>`;\n    }).join('');\n\n    elm.querySelectorAll(':scope > .track-value-view').forEach((elm, index) => {\n\n      // reference\n      const value = this.#values[index];\n      value.elm = elm;\n      value.pin = elm.querySelector(':scope > .pin');\n      value.icon = value.pin.querySelector(':scope > .material-icons');\n\n      // attach event: show tooltip\n      const label = `<span class=\"_subject-color\" data-subject-id=\"${subject.subjectId}\">${value.label}</span>`;\n      elm.addEventListener('mouseenter', () => {\n        const values = [];\n        const userValue = this.#userValues?.find(userValue => userValue.categoryId === value.categoryId);\n        if (userValue?.hit_count) {\n          // does not have user value\n          values.push({\n            key: 'Count',\n            value: `${value.userValueCount.toLocaleString()} / ${value.count.toLocaleString()}`\n          });\n          if (userValue?.pValue) {\n            values.push({\n              key: 'P-value',\n              value: userValue.pValue === 1 ? 1 : userValue.pValue.toExponential(3)\n            });\n          }\n        } else {\n          // has user value\n          values.push({\n            key: 'Count',\n            value: value.count.toLocaleString()\n          });\n        }\n        const customEvent = new CustomEvent(event.enterPropertyValueItemView, {detail: {label, values, elm}});\n        DefaultEventEmitter.dispatchEvent(customEvent);\n      });\n      elm.addEventListener('mouseleave', () => {\n        const customEvent = new CustomEvent(event.leavePropertyValueItemView);\n        DefaultEventEmitter.dispatchEvent(customEvent);\n      });\n\n      // attach event: select/deselect a value\n      elm.addEventListener('click', () => {\n        if (elm.classList.contains('-selected')) {\n          elm.classList.remove('-selected');\n          ConditionBuilder.removePropertyValue(this.#property.propertyId, value.categoryId);\n        } else {\n          elm.classList.add('-selected');\n          ConditionBuilder.addPropertyValue(\n            this.#property.propertyId,\n            value.categoryId\n          );\n        }\n      });\n    });\n\n    // event listener\n    DefaultEventEmitter.addEventListener(event.mutatePropertyValueCondition, ({detail: {action, propertyId, categoryId}}) => {\n      if (this.#property.propertyId === propertyId) {\n        this.#values.forEach(value => {\n          if (value.categoryId === categoryId) {\n            switch (action) {\n              case 'add':\n                value.elm.classList.add('-selected');\n                break;\n              case 'remove':\n                value.elm.classList.remove('-selected');\n                break;\n            }\n          }\n        });\n      }\n    });\n    DefaultEventEmitter.addEventListener(event.changeViewModes, e => this.#update(e.detail));\n    DefaultEventEmitter.addEventListener(event.setUserValues, e => this.#plotUserIdValues(e.detail));\n    DefaultEventEmitter.addEventListener(event.clearUserValues, e => this.#clearUserIdValues(e.detail));\n\n    this.#update(App.viewModes);\n  }\n\n  #update(viewModes) {\n    \n    // const isArea = viewModes.area;\n    const isLog10 = viewModes.log10;\n    const sum = this.#values.reduce((acc, value) => acc + (isLog10 ? value.countLog10 : value.count), 0);\n    let max = Math.max(...this.#values.map(value => value.count));\n    max = isLog10 ? Math.log10(max) : max;\n    // const fixedWidth = isArea ? 0 : 100 / this.#values.length;\n    let left = 0;\n    this.#values.forEach(value => {\n      // const width = isArea ? (isLog10 ? Math.log10(value.count) : value.count) / sum * 100 : fixedWidth;\n      const width = (isLog10 ? (value.count === 0 ? 0 : Math.log10(value.count)) : value.count) / sum * 100;\n      value.elm.style.backgroundColor = `rgb(${value.baseColor.mix(App.colorSilver, 1 - (isLog10 ? value.countLog10 : value.count) / max).coords.map(cood => cood * 256).join(',')})`;\n      value.elm.style.width = width + '%';\n      value.elm.style.left = left + '%';\n      left += width;\n    });\n  }\n\n  #plotUserIdValues(detail) {\n    if (this.#property.propertyId === detail.propertyId) {\n\n      this.#ROOT.classList.add('-pinsticking');\n      this.#userValues = detail.values;\n\n      // calculate min value\n      // let maxPValue;\n      // if (detail.values[0]?.pValue) {\n      //   const minPValue = Math.min(...detail.values.map(value => value.pValue));\n      //   maxPValue = 1 - Math.log10(minPValue);\n      // }\n\n      // mapping\n      this.#values.forEach(value => {\n        const userValue = detail.values.find(userValue => userValue.categoryId === value.categoryId);\n        if (userValue?.hit_count) {\n          value.elm.classList.add('-pinsticking');\n          // pin\n          let ratio, pValueGreaterThan = 1;\n          ratio = userValue.hit_count / value.count;\n          ratio = ratio > 1 ? 1 : ratio;\n          if (userValue.pValue) {\n            // ratio = (1 - Math.log10(userValue.pValue)) / maxPValue;\n            switch (true) {\n              case userValue.pValue < 0.001:\n                pValueGreaterThan = '<0.001';\n                break;\n              case userValue.pValue < 0.005:\n                pValueGreaterThan = '<0.005';\n                break;\n              case userValue.pValue < 0.01:\n                pValueGreaterThan = '<0.01';\n                break;\n              case userValue.pValue < 0.05:\n                pValueGreaterThan = '<0.05';\n                break;\n              case userValue.pValue < 0.1:\n                pValueGreaterThan = '<0.1';\n                break;\n              case userValue.pValue < 1:\n                pValueGreaterThan = '<1';\n                break;\n            }\n          } else {\n            // ratio = userValue.count / value.count;\n            // ratio = ratio > 1 ? 1 : ratio;\n            pValueGreaterThan = 1;\n          }\n          const size = MIN_PIN_SIZE + RANGE_PIN_SIZE * ratio;\n          value.pin.style.width = size + 'px';\n          value.pin.style.height = size + 'px';\n          value.icon.style.fontSize = size + 'px';\n          value.userValueCount = userValue.hit_count;\n          value.elm.dataset.pValueGreaterThan = pValueGreaterThan;\n        } else {\n          value.elm.classList.remove('-pinsticking');\n        }\n      });\n    }\n  }\n\n  #clearUserIdValues() {\n    this.#values.forEach(value => value.elm.classList.remove('-pinsticking'));\n    this.#userValues = undefined;\n  }\n\n}\n","import DefaultEventEmitter from './DefaultEventEmitter';\nimport Records from './Records';\nimport ConditionBuilder from './ConditionBuilder';\nimport collapseView from '../functions/collapseView';\nimport ColumnSelectorView from './ColumnSelectorView';\nimport HistogramRangeSelectorView from './HistogramRangeSelectorView';\nimport TrackOverviewCategorical from './TrackOverviewCategorical';\nimport * as event from '../events';\n\nexport default class TrackView {\n  #property;\n  #sparqlist;\n  #ROOT;\n  #LOADING_VIEW;\n  #SELECT_CONTAINER;\n  #OVERVIEW_CONTAINER;\n  #CHECKBOX_ALL_PROPERTIES;\n  #COLLAPSE_BUTTON;\n\n  constructor(property, container, positionRate) {\n    // console.log(subject, property, container)\n\n    const isSelected = ConditionBuilder.isSelectedProperty(property.propertyId);\n    const elm = document.createElement('div');\n    container.insertAdjacentElement('beforeend', elm);\n    this.#ROOT = elm;\n    this.#property = property;\n    const subject = Records.getSubjectWithPropertyId(this.#property.propertyId);\n    this.#sparqlist = property.data;\n    elm.classList.add('track-view', '-preparing', 'collapse-view');\n    if (isSelected) elm.classList.add('-allselected');\n    elm.dataset.subjectId = subject.subjectId;\n    elm.dataset.propertyId = property.propertyId;\n    elm.dataset.collapse = property.propertyId;\n\n    // make html\n    const checked = isSelected ? ' checked' : '';\n    elm.innerHTML = `\n    <div class=\"row -upper\">\n      <div class=\"left definition\">\n        <div class=\"collapsebutton\" data-collapse=\"${property.propertyId}\">\n          <input type=\"checkbox\" class=\"mapping\"${checked}>\n          <h2 class=\"title _subject-color\">${property.label}</h2>\n        </div>\n      </div>\n      <div class=\"right values\">\n        <div class=\"overview _subject-background-color\">\n          <ul class=\"inner\"></ul>\n          <div class=\"loading-view -shown\"></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row -lower collapsingcontent\" data-collapse=\"${\n      property.propertyId\n    }\">\n      <div class=\"left\">\n        <dl class=\"specification\">\n          <dt>Description</dt>\n          <dd>${property.description}</dd>\n          <dt>API</dt>\n          <dd><a href=\"${property.data}\" target=\"_blank\">${property.data}</a></dd>\n          <dt>Original data</dt>\n          <dd><a href=\"${property.dataSourceUrl}\" target=\"_blank\">${property.dataSource}</a></dd>\n          <dt>Version</dt>\n          <dd>${property.dataSourceVersion}</dd>\n          <dt>Last updated</dt>\n          <dd>${property.updatedAt}</dd>\n        </dl>\n      </div>\n      <div class=\"right selector\"></div>\n    </div>`;\n    const valuesContainer = elm.querySelector(':scope > .row.-upper > .values');\n    this.#OVERVIEW_CONTAINER = valuesContainer.querySelector(\n      ':scope > .overview > .inner'\n    );\n    this.#LOADING_VIEW = valuesContainer.querySelector(\n      ':scope > .overview > .loading-view'\n    );\n    this.#SELECT_CONTAINER = elm.querySelector(\n      ':scope > .row.-lower > .selector'\n    );\n    this.#COLLAPSE_BUTTON = elm.querySelector(\n      ':scope > .row.-upper > .left > .collapsebutton'\n    );\n\n    // collapse\n    collapseView(elm);\n\n    // select/deselect a property\n    this.#CHECKBOX_ALL_PROPERTIES = elm.querySelector(\n      ':scope > .row.-upper > .left > .collapsebutton > input.mapping'\n    );\n    this.#CHECKBOX_ALL_PROPERTIES.addEventListener('click', e => {\n      e.stopPropagation();\n      if (this.#CHECKBOX_ALL_PROPERTIES.checked) {\n        // add\n        ConditionBuilder.addProperty(this.#property.propertyId);\n        this.#ROOT.classList.add('-allselected');\n      } else {\n        // remove\n        ConditionBuilder.removeProperty(this.#property.propertyId);\n        this.#ROOT.classList.remove('-allselected');\n      }\n    });\n    // event listener\n    DefaultEventEmitter.addEventListener(event.mutatePropertyCondition, e => {\n      if (e.detail.parentCategoryId !== undefined) return;\n      switch (e.detail.action) {\n        case 'add':\n          if (e.detail.propertyId === this.#property.propertyId) {\n            this.#CHECKBOX_ALL_PROPERTIES.checked = true;\n            this.#ROOT.classList.add('-allselected');\n          }\n          break;\n        case 'remove':\n          if (e.detail.propertyId === this.#property.propertyId) {\n            this.#CHECKBOX_ALL_PROPERTIES.checked = false;\n            this.#ROOT.classList.remove('-allselected');\n          }\n          break;\n      }\n    });\n    DefaultEventEmitter.addEventListener(event.allTracksCollapse, e => {\n      if (e.detail) {\n        if (!this.#ROOT.classList.contains('-spread')) {\n          this.#COLLAPSE_BUTTON.dispatchEvent(new MouseEvent('click'));\n        }\n      } else {\n        if (this.#ROOT.classList.contains('-spread')) {\n          this.#COLLAPSE_BUTTON.dispatchEvent(new MouseEvent('click'));\n        }\n      }\n    });\n\n    DefaultEventEmitter.addEventListener(event.toggleErrorUserValues, e => {\n      if (e.detail.mode === 'show') {\n        if (e.detail.propertyId !== this.#property.propertyId) return;\n        this.#showError(e.detail.message, true);\n      } else if (e.detail.mode === 'hide') this.#clearError();\n    });\n\n    // get property data\n    Records.fetchPropertyValues(this.#property.propertyId)\n      .then(values => this.#makeValues(values))\n      .catch(error => {\n        console.error(error);\n        this.#showError(error);\n      })\n      .finally(() => {\n        this.#LOADING_VIEW.classList.remove('-shown');\n      });\n  }\n\n  // private methods\n\n  #makeValues(values) {\n    this.#ROOT.classList.remove('-preparing');\n\n    // make overview\n    new TrackOverviewCategorical(\n      this.#OVERVIEW_CONTAINER,\n      this.#property,\n      values\n    );\n\n    // make selector view\n    if (\n      this.#property.viewMethod &&\n      this.#property.viewMethod === 'histogram'\n    ) {\n      new HistogramRangeSelectorView(\n        this.#SELECT_CONTAINER,\n        this.#property,\n        values,\n        this.#OVERVIEW_CONTAINER\n      );\n    } else {\n      new ColumnSelectorView(\n        this.#SELECT_CONTAINER,\n        this.#property,\n        values\n      );\n    }\n  }\n\n  #showError(error, inUserIDs = false) {\n    if (\n      inUserIDs &&\n      this.#OVERVIEW_CONTAINER.nextElementSibling?.classList.contains('error')\n    )\n      return;\n    const prop = this.#property.data;\n\n    this.#OVERVIEW_CONTAINER.insertAdjacentHTML(\n      'afterEnd',\n      `<div class=\"${\n        inUserIDs ? 'map-ids ' : ''\n      }error\">${error} - <a href=\"${prop}\" target=\"_blank\">${prop}</a></div>`\n    );\n    if (inUserIDs) this.#OVERVIEW_CONTAINER.classList.add('-hidden');\n  }\n\n  #clearError() {\n    this.#OVERVIEW_CONTAINER.classList.remove('-hidden');\n    this.#OVERVIEW_CONTAINER.parentNode\n      .querySelector(':scope > .map-ids.error')\n      ?.remove();\n  }\n}\n","import TrackView from './TrackView.js';\n\nexport default class ConceptView {\n\n  constructor(subject, elm) {\n    elm.classList.add('concept-view');\n    elm.innerHTML = `\n    <h3 class=\"title _subject-background-color-strong\" data-subject-id=\"${subject.subjectId}\">\n      <span>${subject.subject}</span>\n    </h3>\n    <div class=\"properties\"></div>`;\n\n    // make tracks\n    const properties = subject.properties;\n    const propertiesContainer = elm.querySelector(':scope > .properties');\n    for (let i = 0; i < properties.length; i++) {\n      const property = properties[i];\n      new TrackView(property, propertiesContainer, i / properties.length);\n    }\n  }\n\n}\n","import DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport Records from './Records';\nimport * as event from '../events';\n\nexport default class StatisticsView {\n\n  #index;\n  #propertyId;\n  #tableData;\n  #referenceValues;\n  #BARS;\n  #ROOT;\n  #ROOT_NODE;\n\n  constructor(statisticsRootNode, elm, tableData, index, condition) {\n\n    this.#index = index;\n    this.#propertyId = condition.propertyId;\n    this.#tableData = tableData;\n    this.#ROOT_NODE = statisticsRootNode;\n    this.#ROOT = elm;\n\n    elm.classList.add('statistics-view');\n    elm.dataset.subjectId = Records.getProperty(this.#propertyId).subjectId;\n\n    // make HTML\n    elm.innerHTML = `\n    <div class=\"statistics\">\n      <div class=\"bars\"></div>\n    </div>\n    <div class=\"loading-view -shown\"></div>\n    `;\n\n    // display order of bar chart\n    if (condition.parentCategoryId) {\n      this.#referenceValues = Records.getValuesWithParentCategoryId(this.#propertyId, condition.parentCategoryId);\n    } else {\n      this.#referenceValues = Records.getProperty(this.#propertyId).values;\n    }\n\n    // references\n    const container = elm.querySelector(':scope > .statistics');\n    this.#BARS = container.querySelector(':scope > .bars');\n\n    // event listener\n    DefaultEventEmitter.addEventListener(event.addNextRows, this.#draw.bind(this));\n    DefaultEventEmitter.addEventListener(event.changeStatisticsViewMode, this.#draw.bind(this));\n  }\n\n  destroy() {\n    DefaultEventEmitter.removeEventListener(event.addNextRows, this.#draw.bind(this));\n    DefaultEventEmitter.removeEventListener(event.changeStatisticsViewMode, this.#draw.bind(this));\n  }\n\n  /**\n   * @param {TableData} detail.tableData\n   * @param {Array} detail.rows\n   * @param {Boolean} detail.done\n   */\n  #draw(e) {\n\n    const attributes = (\n      _.uniqBy(\n        this.#tableData.data\n          .map(datum => datum.properties[this.#index])\n          .filter(property => property !== undefined)\n          .map(property => property.attributes)\n          .flat(),\n          'id'\n      ).map(property => property.attribute)\n    );\n\n    const hitVlues = [];\n    this.#referenceValues.forEach(({categoryId, label, count}) => {\n      const filtered = attributes.filter(attribute => attribute.categoryId === categoryId);\n      if (filtered.length === 0) return;\n      hitVlues.push({\n        categoryId, label, count,\n        hitCount: filtered.length\n      })\n    });\n\n    // max\n    let countMax;\n    const isOnlyHitCount = this.#ROOT_NODE.classList.contains('-onlyhitcount');\n    const isStretch = !isOnlyHitCount && this.#ROOT_NODE.classList.contains('-stretch');\n    if (isOnlyHitCount) {\n      countMax = Math.max(...hitVlues.map(value => value.hitCount));\n    } else {\n      countMax = Math.max(...hitVlues.map(value => value.count));\n    }\n\n    hitVlues.reduce((lastBar, {categoryId, label, count, hitCount}) => {\n      let bar = this.#BARS.querySelector(`:scope > .bar[data-category-id=\"${categoryId}\"]`);\n      if (bar === null) {\n        // add bar\n        bar = document.createElement('div');\n        bar.classList.add('bar');\n        bar.dataset.categoryId = categoryId;\n        bar.innerHTML = `\n        <div class=\"wholebar\"></div>\n        <div class=\"hitbar _subject-background-color-strong\">\n          <div class=\"value\"></div>\n        </div>\n        <div class=\"label\">${label}</div>`;\n        if (lastBar) {\n          lastBar.after(bar);\n        } else {\n          this.#BARS.append(bar);\n        }\n      }\n      // styling\n      bar.querySelector(':scope > .wholebar').style.height = `${count / countMax * 100}%`;\n      const hitbar = bar.querySelector(':scope > .hitbar');\n      const hitCountLabel = hitbar.querySelector(':scope > .value');\n      let hitbarHeight;\n      if (isStretch) {\n        hitbarHeight = hitCount / count;\n        hitCountLabel.textContent = `${Math.round(hitCount / count * 100)}%`;\n      } else {\n        hitbarHeight = hitCount / countMax;\n        hitCountLabel.textContent = hitCount.toLocaleString();\n      }\n      hitbar.style.height = `${hitbarHeight * 100}%`;\n      if (hitbarHeight < .5) {\n        hitCountLabel.classList.add('-below');\n      } else {\n        hitCountLabel.classList.remove('-below');\n      }\n      return bar;\n    }, undefined);\n\n    if (e?.detail?.done) {\n      this.#ROOT.classList.add('-completed');\n      this.#ROOT.querySelector(':scope > .loading-view').classList.remove('-shown');\n    }\n\n  }\n\n}","import DefaultEventEmitter from './DefaultEventEmitter';\nimport StatisticsView from './StatisticsView';\nimport Records from './Records';\nimport {createPopupEvent} from '../functions/util';\nimport * as event from '../events';\n\nexport default class ResultsTable {\n  #intersctionObserver;\n  #tableData;\n  #header;\n  #hea___der;\n  #statisticsViews;\n  #ROOT;\n  #THEAD;\n  #THEAD_SUB;\n  #STATS;\n  #TBODY;\n  #TABLE_END;\n  #LOADING_VIEW;\n\n  constructor(elm) {\n\n    this.#statisticsViews = [];\n\n    // references\n    this.#ROOT = elm;\n    const TABLE = elm.querySelector(':scope > .body > table');\n    this.#THEAD = TABLE.querySelector(':scope > thead > tr.header');\n    this.#THEAD_SUB = TABLE.querySelector(':scope > thead > tr.subheader');\n    this.#STATS = TABLE.querySelector(':scope > thead > tr.statistics');\n    this.#TBODY = TABLE.querySelector(':scope > tbody');\n    this.#TABLE_END = elm.querySelector(':scope > .body > .tableend');\n    this.#LOADING_VIEW = this.#TABLE_END.querySelector(\n      ':scope > .loading-view'\n    );\n\n    // get next data automatically\n    this.#intersctionObserver = new IntersectionObserver(entries => {\n      for (const entry of entries) {\n        if (entry.target === this.#TABLE_END) {\n          if (entry.isIntersecting) {\n            this.#enterTableEnd();\n          }\n        }\n      }\n    });\n\n    // event listener\n    DefaultEventEmitter.addEventListener(event.selectTableData, e =>\n      this.#setupTable(e.detail)\n    );\n    DefaultEventEmitter.addEventListener(event.addNextRows, e =>\n      this.#addTableRows(e.detail)\n    );\n    DefaultEventEmitter.addEventListener(event.failedFetchTableDataIds, e =>\n      this.#failed(e.detail)\n    );\n    DefaultEventEmitter.addEventListener(event.highlightCol, e => {\n      this.#colHighlight(e.detail);\n    });\n\n    // turnoff intersection observer after display transition\n    const mutationObserver = new MutationObserver(mutations => {\n      mutations.forEach(mutation => {\n        if (\n          mutation.type === 'attributes' &&\n          mutation.attributeName === 'data-display'\n        ) {\n          if (mutation.target.dataset.display !== 'results') {\n            this.#intersctionObserver.unobserve(this.#TABLE_END);\n            // deselect table data\n            this.#tableData.deselect();\n          }\n        }\n      });\n    });\n    mutationObserver.observe(document.querySelector('body'), {\n      attributes: true,\n    });\n\n    // statistics\n    const controller = this.#STATS.querySelector(':scope > th.controller > .inner');\n    controller.querySelectorAll(':scope > label > input').forEach(radio => {\n      radio.addEventListener('change', () => {\n        switch (radio.value) {\n          case 'hits_all':\n            this.#STATS.classList.remove('-onlyhitcount');\n            this.#STATS.classList.remove('-stretch');\n            break;\n          case 'hits_all_percentage':\n            this.#STATS.classList.remove('-onlyhitcount');\n            this.#STATS.classList.add('-stretch');\n            break;\n          case 'hits_only':\n            this.#STATS.classList.add('-onlyhitcount');\n            this.#STATS.classList.remove('-stretch');\n            break;\n          }\n        const customEvent = new CustomEvent(event.changeStatisticsViewMode);\n        DefaultEventEmitter.dispatchEvent(customEvent);\n        window.localStorage.setItem('statistics_view_moe', radio.value);\n      });\n    });\n    const statisticsViewMoe = window.localStorage.getItem('statistics_view_moe');\n    controller.querySelector(`:scope > label > input[value=\"${statisticsViewMoe}\"]`)?.dispatchEvent(new MouseEvent('click'));\n  }\n\n  // private methods\n\n  #enterTableEnd() {\n    this.#intersctionObserver.unobserve(this.#TABLE_END);\n    this.#tableData.next();\n  }\n\n  #setupTable(tableData) {\n\n    // reset\n    this.#tableData = tableData;\n    this.#intersctionObserver.unobserve(this.#TABLE_END);\n    this.#header = [\n      ...tableData.dxCondition.valuesConditions.map(({subjectId, propertyId}) => {\n        return {subjectId, propertyId};\n      }),\n      ...tableData.dxCondition.keyConditions.map(({subjectId, propertyId}) => {\n        return {subjectId, propertyId};\n      })\n    ];\n    this.#ROOT.classList.remove('-complete');\n    this.#THEAD.innerHTML = '';\n    this.#TBODY.innerHTML = '';\n    this.#LOADING_VIEW.classList.add('-shown');\n    DefaultEventEmitter.dispatchEvent(new CustomEvent(event.hideStanza));\n\n    // make table header\n    this.#THEAD.innerHTML = `\n      <th rowspan=\"2\">\n        <div class=\"inner\">\n          <div class=\"togo-key-view\">${\n            Records.getDatasetLabel(tableData.togoKey)\n          }</div>\n        </div>\n      </th>\n      <th colspan=\"100%\">\n        <div class=\"inner -noborder\"></div>\n      </th>\n      `;\n\n    // makte table sub header\n    this.#THEAD_SUB.innerHTML = `\n    ${\n      tableData.dxCondition.valuesConditions\n        .map(\n          valuesCondition => `\n          <th>\n            <div class=\"inner _subject-background-color\" data-subject-id=\"${valuesCondition.subjectId}\">\n            <div class=\"togo-key-view\">${valuesCondition.dataset}</div>\n              <span>${valuesCondition.label}</span>\n            </div>\n          </th>`\n        )\n        .join('')\n    }\n    ${\n      tableData.dxCondition.keyConditions\n        .map(\n          keyCondition => `\n          <th>\n            <div class=\"inner _subject-color\" data-subject-id=\"${keyCondition.subjectId}\">\n              <div class=\"togo-key-view\">${keyCondition.dataset}</div>\n              <span>${keyCondition.label}</span>\n            </div>\n          </th>`\n        )\n        .join('')\n    }`;\n\n    // make stats\n    for (const td of this.#STATS.querySelectorAll(':scope > td')) {\n      td.remove();\n    }\n    for (const statisticsView of this.#statisticsViews) {\n      statisticsView.destroy();\n    }\n    this.#statisticsViews = [];\n    this.#tableData.dxCondition\n    const conditions = [\n      ...this.#tableData.dxCondition.valuesConditions,\n      ...this.#tableData.dxCondition.keyConditions\n    ];\n    conditions.forEach((condition, index) => {\n      const td = document.createElement('td');\n      td.innerHTML = '<div class=\"inner\"><div></div></div>';\n      this.#STATS.append(td);\n      this.#statisticsViews.push(new StatisticsView(this.#STATS, td.querySelector(':scope > .inner > div'), tableData, index, condition));\n    });\n  }\n\n  #addTableRows({done, rows, tableData}) {\n\n    this.#tableData = tableData;\n\n    // make table\n    this.#TBODY.insertAdjacentHTML(\n      'beforeend',\n      rows\n        .map((row, index) => {\n          return `\n          <tr\n            data-index=\"${tableData.offset + index}\"\n            data-togo-id=\"${row.id}\">\n            <td>\n              <div class=\"inner\">\n                <ul>\n                  <div\n                    class=\"togo-key-view primarykey\"\n                    data-key=\"${tableData.togoKey}\"\n                    data-order=\"${[0, tableData.offset + index]}\"\n                    data-sub-order=\"0\"\n                    data-subject-id=\"${tableData.subjectId}\"\n                    data-unique-entry-id=\"${row.id}\">${row.id}\n                  </div>\n                  <span>${row.label}</span>\n                </ul>\n              </div<\n            </td>\n            ${row.properties\n              .map((column, columnIndex) => {\n                if (column) {\n                  return `\n                  <td><div class=\"inner\"><ul>${column.attributes\n                    .map((attribute, attributeIndex) => {\n                      if (!attribute.attribute) console.error(attribute);\n                      return `\n                      <li>\n                        <div\n                          class=\"togo-key-view\"\n                          data-order=\"${[\n                            columnIndex + 1,\n                            tableData.offset + index,\n                          ]}\"\n                          data-sub-order=\"${attributeIndex}\"\n                          data-key=\"${column.propertyKey}\"\n                          data-subject-id=\"${\n                            this.#header[columnIndex].subjectId\n                          }\"\n                          data-main-category-id=\"${\n                            this.#header[columnIndex].propertyId\n                          }\"\n                          data-sub-category-id=\"${\n                            attribute.attribute.categoryId\n                              ? attribute.attribute.categoryId\n                              : attribute.attribute.categoryIds\n                          }\"\n                          data-unique-entry-id=\"${attribute.id}\"\n                          >${attribute.id}</div>\n                        <span>${\n                          attribute.attribute\n                            ? attribute.attribute.label\n                            : attribute\n                        }</span>\n                      </li>`;\n                    })\n                    .join('')}</ul></div></td>`;\n                } else {\n                  return `<td><div class=\"inner -empty\"></div></td>`;\n                }\n              })\n              .join('')}\n          </tr>`;\n        })\n        .join('')\n    );\n\n    // turn off auto-loading after last line is displayed\n    if (done) {\n      this.#ROOT.classList.add('-complete');\n      this.#LOADING_VIEW.classList.remove('-shown');\n    } else {\n      this.#ROOT.classList.remove('-complete');\n      this.#LOADING_VIEW.classList.add('-shown');\n      this.#intersctionObserver.observe(this.#TABLE_END);\n    }\n\n    // Naming needs improvement but hierarcy for Popup screen is like below\n    // Togo-key   (Uniprot)\n    //  → Subject  (Gene)\n    //    → Main-Category  (Expressed in tissues)\n    //      → Sub-Category  (Thyroid Gland)\n    //        → Unique-Entry (ENSG00000139304)\n    rows.forEach((row, index) => {\n      const actualIndex = tableData.offset + index;\n      const tr = this.#TBODY.querySelector(`:scope > tr[data-index=\"${actualIndex}\"]`);\n      const uniqueEntries = tr.querySelectorAll('.togo-key-view');\n      uniqueEntries.forEach(uniqueEntry => {\n        uniqueEntry.addEventListener('click', () => {\n          createPopupEvent(uniqueEntry, event.showPopup);\n        });\n        // remove highlight on mouseleave only when there is no popup\n        const td = uniqueEntry.closest('td');\n        td.addEventListener('mouseenter', () => {\n          const customEvent = new CustomEvent(event.highlightCol, {\n            detail: uniqueEntry.getAttribute('data-order').split(',')[0],\n          });\n          DefaultEventEmitter.dispatchEvent(customEvent);\n        });\n        td.addEventListener('mouseleave', () => {\n          if (document.querySelector('#ResultDetailModal').innerHTML === '') {\n            this.#TBODY\n              .querySelectorAll('td')\n              .forEach(td => td.classList.remove('-selected'));\n          }\n        });\n      });\n    });\n\n  }\n\n  #failed(tableData) {\n    console.log(tableData);\n    this.#ROOT.classList.add('-complete');\n    this.#LOADING_VIEW.classList.remove('-shown');\n  }\n\n  #colHighlight(colIndex) {\n    this.#TBODY.querySelectorAll('[data-order]').forEach(element => {\n      const td = element.closest('td');\n      if (element.getAttribute('data-order').split(',')[0] === colIndex) {\n        if (!td.classList.contains('.-selected')) {\n          td.classList.add('-selected');\n        }\n      } else {\n        td.classList.remove('-selected');\n      }\n    });\n  }\n}\n","class StanzaManager {\n  #templates;\n  #isReady;\n\n  constructor() {\n    this.#isReady = false;\n  }\n\n  init(data) {\n    // embed modules\n    const head = document.querySelector('head');\n    data.stanzas.forEach(stanza => {\n      const script = document.createElement('script');\n      script.setAttribute('type', 'module');\n      script.setAttribute('src', stanza);\n      script.setAttribute('async', 1);\n      head.appendChild(script);\n    });\n\n    // fetch templates\n    Promise.all(\n      Object.keys(data.templates).map(key => fetch(data.templates[key]))\n    )\n      .then(responces =>\n        Promise.all(responces.map(responce => responce.text()))\n      )\n      .then(templates => {\n        // set stanza templates\n        this.#templates = Object.fromEntries(\n          Object.keys(data.templates).map((stanza, index) => [\n            stanza,\n            templates[index],\n          ])\n        );\n        this.#isReady = true;\n      });\n  }\n\n  /**˝\n   * @param {String} key  key of Database used to get template\n   * @param {String} id  ID of dataset\n   * @returns {String} HTML\n   */\n  draw(key, id) {\n    return `<div class=\"stanza\">${this.#templates[key].replace(\n      /{{id}}/g,\n      id\n    )}</div>`;\n  }\n\n  get isReady() {\n    return this.#isReady;\n  }\n}\n\nexport default new StanzaManager();\n","let x = 0;\nlet y = 0;\n\nexport function dragView(view) {\n  x = view.x;\n  y = view.y;\n\n  document.addEventListener('mousemove', elementDrag);\n  document.addEventListener('mouseup', closeDrag);\n\n  function elementDrag(e) {\n    const dx = e.clientX - x;\n    const dy = e.clientY - y;\n    console.log('x,y = ' + e.clientX + ',' +  e.clientY);\n    console.log('dx, dy =' + dx+ ',' + dy);\n\n    const container = view.container\n    container.style.top = `${container.offsetTop + dy}px`;\n    container.style.left = `${container.offsetLeft + dx}px`;\n\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function closeDrag() {\n    document.removeEventListener('mousemove', elementDrag);\n    document.removeEventListener('mouseup', closeDrag);\n  }\n}\n","import DefaultEventEmitter from './DefaultEventEmitter';\nimport Records from './Records';\nimport StanzaManager from './StanzaManager';\nimport {createPopupEvent} from '../functions/util';\nimport {dragView} from '../functions/dragView';\nimport * as event from '../events';\n\nexport default class ResultDetailModal {\n  #ROOT;\n  #RESULTS_TABLE;\n  #RESULT_MODAL;\n  #exit_button;\n  #popup_top;\n  #popup_left;\n\n  constructor() {\n    this.#ROOT = document.createElement('section');\n    this.#ROOT.id = 'ResultDetailModal';\n    document\n      .querySelector('body')\n      .insertAdjacentElement('beforeend', this.#ROOT);\n\n    // references\n    this.#RESULTS_TABLE = document.querySelector('#ResultsTable');\n    this.#RESULT_MODAL = document.querySelector('#ResultDetailModal');\n    this.#exit_button = document.createElement('div');\n    this.#exit_button.className = 'close-button-view';\n\n    // attach event\n    DefaultEventEmitter.addEventListener(event.showPopup, e => {\n      this.#showPopup(e);\n    });\n\n    DefaultEventEmitter.addEventListener(event.movePopup, e => {\n      this.#hidePopup(false);\n      this.#showPopup(e);\n    });\n\n    DefaultEventEmitter.addEventListener(event.dragElement, e => {\n      dragView(e.detail);\n    });\n\n    DefaultEventEmitter.addEventListener(event.hidePopup, () => {\n      this.#hidePopup();\n    });\n\n    this.#RESULT_MODAL.addEventListener('click', e => {\n      if (e.target !== e.currentTarget) return;\n      DefaultEventEmitter.dispatchEvent(new CustomEvent(event.hidePopup));\n    });\n\n    this.#exit_button.addEventListener('click', () => {\n      DefaultEventEmitter.dispatchEvent(new CustomEvent(event.hidePopup));\n    });\n  }\n  // bind this on handleKeydown so it will keep listening to same event during the whole popup\n  #showPopup(e) {\n    this.#setHighlight(\n      e.detail.properties.dataX,\n      e.detail.properties.dataY,\n      e.detail.properties.dataSubOrder\n    );\n    this.#handleKeydown = this.#handleKeydown.bind(this);\n    document.addEventListener('keydown', this.#handleKeydown);\n\n    this.#RESULT_MODAL.appendChild(this.#popup(e.detail));\n    this.#RESULT_MODAL.classList.add('backdrop');\n  }\n  // HTML elements\n  #popup(detail) {\n    this.#ROOT.dataset.subjectId = detail.keys.subjectId;\n    const popup = document.createElement('div');\n    popup.className = 'popup';\n    popup.style.left = this.#popup_left;\n    popup.style.top = this.#popup_top;\n    popup.appendChild(this.#header(detail.keys, detail.properties));\n    popup.appendChild(this.#container(detail.keys, detail.properties));\n\n    return popup;\n  }\n\n  #header(keys, props) {\n    const category = Records.getCategory(keys.subjectId);\n    const isPrimaryKey = props.isPrimaryKey;\n    const mainCategory = isPrimaryKey\n      ? ''\n      : Records.getProperty(keys.mainCategoryId);\n    const subCategory = isPrimaryKey\n      ? ''\n      : Records.getValue(keys.mainCategoryId, keys.subCategoryId);\n    const path = isPrimaryKey\n      ? keys.dataKey\n      : `<span class='path'>${category.label} / ${subCategory?.label ?? '--'}</span>`;\n    const header = document.createElement('header');\n    header.innerHTML = `\n      <div class='label'>\n        <strong>${\n          isPrimaryKey ? keys.uniqueEntryId : mainCategory.label\n        } </strong>\n        ${path}\n      </div>\n      <div/>\n    `;\n    header.classList.add('_subject-background-color');\n    header.lastElementChild.appendChild(this.#exit_button);\n    header.addEventListener('mousedown', e => {\n      const customEvent = new CustomEvent(event.dragElement, {\n        detail: {\n          x: e.clientX,\n          y: e.clientY,\n          container: header.parentElement,\n          dragableElement: header,\n        },\n      });\n      DefaultEventEmitter.dispatchEvent(customEvent);\n    });\n\n    return header;\n  }\n\n  #container(keys, props) {\n    const container = document.createElement('div');\n    container.className = 'container';\n    ['Up', 'Right', 'Down', 'Left'].forEach(direction => {\n      container.appendChild(this.#arrow(direction, props));\n    });\n    container.appendChild(this.#stanzas(keys.uniqueEntryId, keys.dataKey));\n\n    return container;\n  }\n\n  #stanzas(uniqueEntryId, dataKey) {\n    const stanzas = document.createElement('div');\n    stanzas.className = 'stanzas';\n    stanzas.innerHTML += StanzaManager.draw(dataKey, uniqueEntryId);\n    stanzas.querySelectorAll('script').forEach(scriptElement => {\n      const _script = document.createElement('script');\n      _script.textContent = scriptElement.textContent;\n      scriptElement.replaceWith(_script);\n    });\n    return stanzas;\n  }\n\n  #arrow(direction, props) {\n    const arrow = document.createElement('div');\n    arrow.classList.add('arrow', `-${direction.toLowerCase()}`);\n    arrow.addEventListener('click', e => {\n      const arrowMovement = {\n        dir: direction,\n        curX: parseInt(props.dataX),\n        curY: parseInt(props.dataY),\n        curInternalIndex: parseInt(props.dataSubOrder),\n        getTargetAxes: this.#arrowFuncs.get('Arrow' + direction),\n      };\n      this.#setMovementArrow(arrowMovement);\n    });\n\n    return arrow;\n  }\n\n  // Events, functions\n  #setHighlight(x, y, subOrder) {\n    const entry = this.#entriesByAxes(x, y, subOrder);\n    const tr = entry.closest('tr');\n    entry.classList.add('-selected');\n    tr.classList.add('-selected');\n\n    const customEvent = new CustomEvent(event.highlightCol, {\n      detail: x,\n    });\n    DefaultEventEmitter.dispatchEvent(customEvent);\n  }\n\n  #handleKeydown = e => {\n    if (e.key == 'Escape') {\n      DefaultEventEmitter.dispatchEvent(new CustomEvent(event.hidePopup));\n    } else if (this.#arrowFuncs.has(e.key)) {\n      e.preventDefault();\n      this.#RESULT_MODAL\n        .querySelector(`.arrow.-${e.key.replace('Arrow', '').toLowerCase()}`)\n        .click();\n    }\n  };\n\n  #arrowFuncs = new Map([\n    [\n      'ArrowLeft',\n      function (x, y) {\n        return [x - 1, y];\n      },\n    ],\n    [\n      'ArrowRight',\n      function (x, y) {\n        return [x + 1, y];\n      },\n    ],\n    [\n      'ArrowUp',\n      function (x, y = x) {\n        return [x, y - 1];\n      },\n    ],\n    [\n      'ArrowDown',\n      function (x, y = x) {\n        return [x, y + 1];\n      },\n    ],\n  ]);\n\n  #setMovementArrow(movement) {\n    try {\n      const targetEntry = this.#getTargetEntry(movement);\n\n      targetEntry.scrollIntoView({block: 'center'});\n      createPopupEvent(targetEntry, event.movePopup);\n    } catch (error) {\n      console.log('Movement out of bounds');\n    }\n  }\n\n  #getTargetEntry(move) {\n    // Check if there are multiple entries in the current cell when going up or down\n    if (['Down', 'Up'].includes(move.dir)) {\n      const allCurEntries = this.#entriesByAxes(move.curX, move.curY);\n      const targetInternalIndex = move.getTargetAxes(move.curInternalIndex)[1];\n      // movement inside cell\n      if (allCurEntries[targetInternalIndex]) {\n        return allCurEntries[targetInternalIndex];\n      }\n    }\n    // default: target outside of current cell\n    const [targetX, targetY] = move.getTargetAxes(move.curX, move.curY);\n    const allTargetEntries = this.#entriesByAxes(targetX, targetY);\n    const targetIndex = move.dir === 'Up' ? allTargetEntries.length - 1 : 0;\n\n    return allTargetEntries[targetIndex];\n  }\n\n  #entriesByAxes(x, y, subOrder) {\n    if (subOrder === undefined) {\n      return this.#RESULTS_TABLE.querySelectorAll(`[data-order = '${x},${y}']`);\n    }\n    return this.#RESULTS_TABLE.querySelector(\n      `[data-order = '${x},${y}'][data-sub-order = '${subOrder}']`\n    );\n  }\n\n  #hidePopup(exitingPopup = true) {\n    // reset popup to the center if it is shown for first time\n    // keep moved axes if user has dragged popup while moving with arrows\n    const popupStyle = this.#RESULT_MODAL.querySelector('.popup').style;\n    this.#popup_top = exitingPopup ? '' : popupStyle.top;\n    this.#popup_left = exitingPopup ? '' : popupStyle.left;\n\n    this.#RESULT_MODAL.classList.remove('backdrop');\n    this.#RESULT_MODAL.innerHTML = '';\n    this.#RESULTS_TABLE\n      .querySelectorAll('.-selected')\n      .forEach(entry => entry.classList.remove('-selected'));\n    document.removeEventListener('keydown', this.#handleKeydown);\n  }\n}\n","import DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport * as event from '../events';\n\nexport default class BalloonView {\n\n  #ROOT;\n  #CONTAINER;\n\n  constructor() {\n\n    // make element\n    this.#ROOT = document.createElement('div');\n    this.#ROOT.className = 'balloon-view';\n    document.querySelector('body').insertAdjacentElement('beforeend', this.#ROOT);\n    this.#ROOT.innerHTML = '<div class=\"container\"></div>';\n    this.#CONTAINER = this.#ROOT.querySelector(':scope > .container');\n\n    // event listener\n    DefaultEventEmitter.addEventListener(event.enterPropertyValueItemView, ({detail: {elm, label, values}}) => {\n      this.#CONTAINER.innerHTML = `\n        <header>${label}</header>\n        ${values.map(value => `<dl>\n          <dt>${value.key}:</dt>\n          <dd>${value.value}</dd>\n        </dl>`).join('')}`;\n      // geography\n      const rect = elm.getBoundingClientRect();\n      const isBelow = window.innerHeight * .3 > rect.top;\n      this.#ROOT.style.left = (rect.left + rect.width * .5) + 'px';\n      if (isBelow) {\n        this.#ROOT.classList.add('-below');\n        this.#ROOT.style.top = (rect.bottom) + 'px';\n      } else {\n        this.#ROOT.classList.remove('-below');\n        this.#ROOT.style.top = rect.top + 'px';\n      }\n      this.#ROOT.classList.add('-showing');\n    });\n    DefaultEventEmitter.addEventListener(event.leavePropertyValueItemView, () => {\n      this.#ROOT.classList.remove('-showing');\n    });\n  }\n\n}","/**\n * @enum { string } MODE\n */\nconst MODE = {\n  SIMPLE: 'simple',\n  DETAILED: 'detailed',\n};\n\nexport default class ProgressIndicator {\n  #ROOT;\n  #TEXT_OFFSET;\n  #TEXT_TOTAL;\n  #TEXT_STATUS;\n  #BAR;\n  #totalDuration;\n  #total;\n  #mode;\n\n  /**\n   * @param { HTMLElement } elm\n   * @param { 'simple' | 'detailed' } mode - Default is detailed mode with time bar and amount tracker\n   */\n  constructor(elm, mode = MODE.DETAILED) {\n    this.#mode = mode;\n    elm.classList.add('progress-indicator', `-${mode}`);\n    const loadingIcon =\n      mode === MODE.SIMPLE\n        ? '<span class=\"material-icons-outlined -rotating\">autorenew</span>'\n        : '';\n    const counter =\n      mode === MODE.DETAILED\n        ? `<div class=\"amount-of-data\">\n          <span class=\"offset\">0</span>\n          <span class=\"total\"></span>\n      </div>`\n        : '';\n    elm.innerHTML = ` \n      <div class=\"text\">\n        ${counter}\n        <div class=\"status\">\n          ${loadingIcon}\n        </div>\n      </div>\n      <div class=\"progress\">\n        <div class=\"bar\"></div>\n      </div>`;\n\n    this.#ROOT = elm;\n    this.#BAR = elm.querySelector(':scope > .progress > .bar');\n    this.#TEXT_STATUS = elm.querySelector(':scope > .text > .status');\n    this.#total = 0;\n\n    if (mode === MODE.SIMPLE) return;\n\n    this.#TEXT_OFFSET = elm.querySelector(\n      ':scope > .text > .amount-of-data > .offset'\n    );\n    this.#TEXT_TOTAL = elm.querySelector(\n      ':scope > .text > .amount-of-data > .total'\n    );\n    this.#totalDuration = 0;\n  }\n\n  /* private methods */\n  /**\n   * @param { number } offset\n   */\n  #updateAmount(offset) {\n    this.#TEXT_OFFSET.textContent = `${offset.toString()}`;\n  }\n\n  /**\n   * @param { number } offset\n   */\n  #updateBarWidth(offset = 0) {\n    this.#BAR.style.width =\n      offset / this.#total ? `${(offset / this.#total) * 100}%` : '0%';\n  }\n\n  /**\n   * @param { number } durationPerItem\n   * @param { number } itemsLeft\n   */\n  #remainingTimeInSec(durationPerItem, itemsLeft) {\n    return (durationPerItem * itemsLeft) / 1000 || 0;\n  }\n\n  /**\n   * @param { number } time\n   */\n  #timeString(time) {\n    if (time <= 0) return '0 sec.';\n\n    let h, m, s;\n    h = Math.floor(time / 3600);\n    m = Math.floor((time % 3600) / 60);\n    s = Math.floor((time % 3600) % 60);\n    return h > 0 ? `${h} hr.` : m > 0 ? `${m} min.` : `${s} sec.`;\n  }\n\n  /**\n   * @param { number } offset\n   * @param { number } startTime - start time of 1 instance\n   */\n  #updateTime(offset, startTime) {\n    this.#totalDuration += Date.now() - startTime;\n    const remainingTime = this.#remainingTimeInSec(\n      this.#totalDuration / offset,\n      this.#total - offset\n    );\n    this.#TEXT_STATUS.innerHTML = this.#timeString(remainingTime);\n  }\n\n  /**\n   * @param { string } message\n   * @param { boolean } isError\n   */\n  #setMessage(message, isError) {\n    this.#TEXT_STATUS.childNodes[0].nodeValue = message;\n    isError ? this.#ROOT.classList.add('error') : this.#ROOT.classList.remove('error');\n  }\n\n  /* public accessors */\n\n  /**\n   * @param { {offset: number, startTime: number} } progressInfo\n   */\n  updateProgressBar({offset = 0, startTime}) {\n    // console.log(`current offset: ${offset}`);\n    // console.log(`current total: ${this.#total}`);\n    this.#updateBarWidth(offset);\n    if (this.#mode === MODE.SIMPLE || !startTime) return;\n\n    this.#updateAmount(offset);\n    this.#updateTime(offset, startTime);\n  }\n\n  /**\n   * @param { string } message\n   * @param { number } total\n   * @param { boolean } isError\n   */\n  setIndicator(message = '', total = 0, isError = false) {\n    this.#total = total;\n    if (this.#mode === MODE.SIMPLE) this.#setMessage(message, isError);\n    else if (this.#mode === MODE.DETAILED)\n      this.#TEXT_TOTAL.textContent = `/ ${this.#total.toString()}`;\n  }\n\n  reset() {\n    this.setIndicator();\n    this.#updateBarWidth();\n  }\n}\n","import App from './App';\nimport DefaultEventEmitter from './DefaultEventEmitter';\nimport ConditionBuilder from './ConditionBuilder';\nimport Records from './Records';\nimport * as event from '../events';\nimport ProgressIndicator from './ProgressIndicator';\n\nconst LIMIT = 100;\nconst downloadUrls = new Map();\nconst timeOutError = 'ECONNABORTED';\n\n/**\n * @typedef { Object } Mode\n * @property { string } label\n * @property { string } icon\n * @property { string } dataButton\n */\nconst dataButtonModes = new Map([\n  [\n    'edit',\n    {\n      label: 'Edit',\n      icon: 'edit',\n      dataButton: 'edit',\n    },\n  ],\n  [\n    'resume',\n    {\n      label: 'Resume',\n      icon: 'play_arrow',\n      dataButton: 'resume',\n    },\n  ],\n  [\n    'pause',\n    {\n      label: 'Pause',\n      icon: 'pause',\n      dataButton: 'pause',\n    },\n  ],\n  [\n    'tsv',\n    {\n      label: 'TSV',\n      icon: 'download',\n      dataButton: 'download-tsv',\n    },\n  ],\n  [\n    'json',\n    {\n      label: 'JSON',\n      icon: 'download',\n      dataButton: 'download-json',\n    },\n  ],\n  [\n    'retry',\n    {\n      label: 'Retry',\n      icon: 'refresh',\n      dataButton: 'retry',\n    },\n  ],\n  [\n    'empty',\n    {\n      label: '',\n      icon: '',\n      dataButton: '',\n    },\n  ],\n]);\n\nexport default class TableData {\n  #dxCondition;\n  #queryIds;\n  #rows;\n  #source;\n  #isLoading;\n  #isCompleted;\n  #ROOT;\n  #STATUS;\n  #progressIndicator;\n  #CONTROLLER;\n  #BUTTON_LEFT;\n  #BUTTON_RIGHT;\n\n  constructor(dxCondition, elm) {\n    const cancelToken = axios.CancelToken;\n    this.#source = cancelToken.source();\n\n    this.#isLoading = false;\n    this.#isCompleted = false;\n    this.#dxCondition = dxCondition;\n    this.#queryIds = [];\n    this.#rows = [];\n\n    // view\n    elm.classList.add('table-data-controller-view');\n    elm.dataset.status = 'load ids';\n\n    elm.innerHTML = `\n    <div class=\"close-button-view\"></div>\n    <div class=\"conditions\">\n      <div class=\"condition\">\n        <p title=\"${dxCondition.togoKey}\">${\n          Records.getDatasetLabel(dxCondition.togoKey)\n        }</p>\n      </div>\n      ${\n        this.#dxCondition.valuesConditions\n          .map(valuesCondition => {\n            const label = Records.getProperty(valuesCondition.propertyId).label;\n            return `<div class=\"condition _subject-background-color\" data-subject-id=\"${valuesCondition.subjectId}\">\n              <p title=\"${label}\">${label}</p>\n            </div>`\n          })\n          .join('')\n      }\n      ${\n        this.#dxCondition.keyConditions\n          .map(keyCondition => {\n            return `<div class=\"condition _subject-color\" data-subject-id=\"${keyCondition.subjectId}\">\n              <p title=\"${keyCondition.label}\">${keyCondition.label}</p>\n            </div>`;\n          })\n          .join('')\n      }\n    </div>\n    <div class=\"status\">\n      <p>Getting ID list</p>\n      <span class=\"material-icons-outlined -rotating\">autorenew</span>\n    </div>\n    <div class=\"-border\">\n    </div>\n    <div class=\"controller\">\n    </div>\n    `;\n\n    // reference\n    this.#ROOT = elm;\n    this.#STATUS = elm.querySelector(':scope > .status > p');\n\n    this.#progressIndicator = new ProgressIndicator(\n      elm.querySelector(':scope > .status + div')\n    );\n\n    this.#CONTROLLER = elm.querySelector(':scope > .controller');\n    this.#CONTROLLER.appendChild(this.#makeDataButton('left'));\n    this.#CONTROLLER.appendChild(\n      this.#makeDataButton('right', dataButtonModes.get('edit'))\n    );\n    this.#BUTTON_LEFT = elm.querySelector(\n      ':scope > .controller > .button.left'\n    );\n    this.#BUTTON_RIGHT = elm.querySelector(\n      ':scope > .controller > .button.right'\n    );\n\n    // events\n    elm.addEventListener('click', () => {\n      if (elm.classList.contains('-current')) return;\n      this.select();\n    });\n\n    // delete\n    this.#ROOT\n      .querySelector(':scope > .close-button-view')\n      .addEventListener('click', e => {\n        this.#deleteCondition(e);\n      });\n\n    ConditionBuilder.finish();\n    this.select();\n    this.#ROOT.classList.toggle('-fetching');\n    this.#getQueryIds();\n  }\n\n  /* private methods */\n  #deleteCondition(e) {\n    e.stopPropagation();\n    const customEvent = new CustomEvent(event.deleteTableData, {\n      detail: this,\n    });\n    DefaultEventEmitter.dispatchEvent(customEvent);\n    // abort fetch\n    this.#source.cancel('user cancel');\n    // delete element\n    this.#ROOT.parentNode.removeChild(this.#ROOT);\n    // transition\n    document.querySelector('body').dataset.display = 'properties';\n  }\n\n  // *** Responsive Buttons based on dataButtonModes ***\n  /**\n   * @param { string } className\n   * @param { Mode } mode\n   */\n  #makeDataButton(className, mode = undefined) {\n    const button = document.createElement('div');\n    button.innerHTML = `\n      <a>\n        <span class=\"material-icons-outlined\"></span>\n        <span class=\"label\"></span>\n      </a>`;\n    button.classList.add('button', className);\n\n    if (mode) this.#updateDataButton(button, mode);\n    button.addEventListener('click', e => {\n      this.#dataButtonEvent(e);\n    });\n\n    return button;\n  }\n\n  /**\n   * @param { HTMLElement } target\n   * @param { Mode } mode\n   * @param { string } urlType\n   */\n  #updateDataButton(target, mode, urlType) {\n    target.dataset.button = mode.dataButton;\n    const anchor = target.querySelector(':scope > a');\n    anchor.querySelector(':scope > .material-icons-outlined').innerText =\n      mode.icon;\n    anchor.querySelector(':scope > .label').innerText = mode.label;\n    if (urlType) {\n      const url = downloadUrls.get(urlType);\n      anchor.setAttribute('href', url);\n      const timeStamp = new Date();\n      const [date, time] = [\n        timeStamp.toISOString().slice(0, 10).replaceAll('-',''),\n        timeStamp.toLocaleTimeString().replaceAll(':', ''),\n      ];\n      anchor.setAttribute('download', `togodx-${date}-${time}.${urlType}`);\n    }\n  }\n\n  /**\n   * @param { MouseEvent } e\n   */\n  #dataButtonPauseOrResume(e) {\n    e.stopPropagation();\n    this.#ROOT.classList.toggle('-fetching');\n    this.#STATUS.classList.toggle('-flickering');\n\n    const modeToChangeTo = this.#isLoading ? 'resume' : 'pause';\n    this.#updateDataButton(\n      e.currentTarget,\n      dataButtonModes.get(modeToChangeTo)\n    );\n    this.#isLoading = !this.#isLoading;\n    this.#STATUS.textContent = this.#isLoading ? 'Getting data' : 'Awaiting';\n\n    if (this.#isLoading) this.#getProperties();\n  }\n\n  /**\n   * @param { MouseEvent } e\n   */\n  #dataButtonEdit(e) {\n    e.stopPropagation();\n    // property (attribute)\n    ConditionBuilder.setProperties(\n      this.#dxCondition.keyConditions.map(keyCondition => {\n        return {\n          propertyId: keyCondition.propertyId,\n          parentCategoryId: keyCondition.parentCategoryId,\n        }\n      }),\n      false\n    );\n    // attribute (classification/distribution)\n    Records.properties.forEach(({propertyId}) => {\n      const valuesCondition = this.#dxCondition.valuesConditions.find(valuesCondition => valuesCondition.propertyId === propertyId);\n      const categoryIds = [];\n      if (valuesCondition) categoryIds.push(...valuesCondition.categoryIds);\n      ConditionBuilder.setPropertyValues(propertyId, categoryIds, false);\n    });\n  }\n\n  #dataButtonRetry() {\n    this.#STATUS.classList.remove('-error');\n    this.#ROOT.classList.toggle('-fetching');\n    this.#updateDataButton(this.#BUTTON_LEFT, dataButtonModes.get('empty'));\n\n    const partiallyLoaded = this.#queryIds.length > 0;\n    const message = partiallyLoaded ? 'Getting data' : 'Getting ID list';\n    this.#STATUS.textContent = message;\n\n    if (partiallyLoaded) this.#getProperties();\n    else this.#getQueryIds();\n  }\n\n  /**\n   * @param { MouseEvent } e\n   */\n  #dataButtonEvent(e) {\n    const button = e.currentTarget;\n    const mode = button.dataset.button;\n    switch (mode) {\n      case 'edit':\n        this.#dataButtonEdit(e);\n        break;\n\n      case 'resume':\n      case 'pause':\n        this.#dataButtonPauseOrResume(e);\n        break;\n\n      case 'retry':\n        this.#dataButtonRetry();\n        break;\n    }\n  }\n\n  #setDownloadButtons() {\n    this.#setTsvUrl();\n    this.#updateDataButton(\n      this.#BUTTON_LEFT,\n      dataButtonModes.get('tsv'),\n      'tsv'\n    );\n\n    this.#setJsonUrl();\n    const middleButton = this.#makeDataButton('middle', 'json');\n    this.#updateDataButton(middleButton, dataButtonModes.get('json'), 'json');\n    this.#CONTROLLER.insertBefore(middleButton, this.#BUTTON_RIGHT);\n  }\n\n  #setJsonUrl() {\n    const jsonBlob = new Blob([JSON.stringify(this.#rows, null, 2)], {\n      type: 'application/json',\n    });\n    downloadUrls.set('json', URL.createObjectURL(jsonBlob));\n  }\n\n  #setTsvUrl() {\n    const temporaryArray = [];\n    this.#rows.forEach(row => {\n      row.properties.forEach(property => {\n        property.attributes.forEach(attribute => {\n          const singleItem = [\n            this.#dxCondition.togoKey, // togoKey\n            row.id, // togoKeyId\n            row.label, // togoKeyLabel\n            property.propertyId, // attribute\n            property.propertyKey, // attributeKey\n            attribute.id, // attributeKeyId\n            attribute.attribute.label, // attributeValue\n          ];\n          temporaryArray.push(singleItem);\n        });\n      });\n    });\n    const tsvArray = temporaryArray.map(item => {\n      return item.join('\\t');\n    });\n    if (tsvArray.length !== 0) {\n      const tsvHeader = [\n        'togoKey',\n        'togoKeyId',\n        'togoKeyLabel',\n        'attribute',\n        'attributeKey',\n        'attributeKeyId',\n        'attributeValue',\n      ];\n      tsvArray.unshift(tsvHeader.join('\\t'));\n    }\n    const bom = new Uint8Array([0xef, 0xbb, 0xbf]);\n    const tsvBlob = new Blob([bom, tsvArray.join('\\n')], {type: 'text/plain'});\n    const tsvUrl = URL.createObjectURL(tsvBlob);\n    downloadUrls.set('tsv', tsvUrl);\n  }\n\n  // *** Properties & Loading ***\n  /**\n   * @param { Error } err - first check userCancel, then server error, timeout err part of else\n   */\n  #handleError(err) {\n    if (axios.isCancel && err.message === 'user cancel') return;\n\n    const code = err.response?.status;\n    const message = err.response?.statusText || err.message;\n    this.#displayError(message, code);\n\n    if ((err.response?.status === 500) | (err.code === timeOutError)) {\n      this.#updateDataButton(this.#BUTTON_LEFT, dataButtonModes.get('retry'));\n      return;\n    }\n    this.#BUTTON_LEFT.remove();\n  }\n\n  /**\n   * @param { string } message - errorMessage\n   * @param { number } code - errorCode na in case of timeout or other\n   */\n  #displayError(message, code) {\n    this.#STATUS.classList.add('-error');\n    this.#STATUS.textContent = code ? `${message} (${code})` : message;\n    this.#ROOT.classList.toggle('-fetching');\n\n    const customEvent = new CustomEvent(event.failedFetchTableDataIds, {\n      detail: this,\n    });\n    DefaultEventEmitter.dispatchEvent(customEvent);\n  }\n\n  get #queryIdsPayload() {\n    return `togokey=${\n      this.#dxCondition.togoKey\n    }&filters=${\n      this.#dxCondition.queryFilters\n    }${\n      ConditionBuilder.userIds?.length > 0\n        ? `&queries=${encodeURIComponent(\n            JSON.stringify(ConditionBuilder.userIds.split(','))\n          )}`\n        : ''\n    }`;\n  }\n\n  #getQueryIds() {\n    axios\n      .post(App.aggregate, this.#queryIdsPayload, {\n        cancelToken: this.#source.token,\n      })\n      .then(response => {\n        this.#queryIds = response.data;\n\n        if (this.#queryIds.length <= 0) {\n          this.#complete(false);\n          return;\n        }\n        this.#ROOT.dataset.status = 'load rows';\n        this.#STATUS.textContent = 'Getting data';\n        this.#progressIndicator.setIndicator(undefined, this.#queryIds.length);\n        this.#updateDataButton(this.#BUTTON_LEFT, dataButtonModes.get('pause'));\n        this.#getProperties();\n      })\n      .catch(error => {\n        this.#handleError(error);\n      });\n  }\n\n  get #propertiesPayload() {\n    return `${App.dataframe}?togokey=${\n      this.#dxCondition.togoKey\n    }&filters=${\n      this.#dxCondition.queryFilters\n    }&annotations=${\n      this.#dxCondition.queryAnnotations\n    }&queries=${\n      encodeURIComponent(\n        JSON.stringify(this.#queryIds.slice(this.offset, this.offset + LIMIT))\n      )\n    }`;\n  }\n\n  #getProperties() {\n    this.#isLoading = true;\n    const startTime = Date.now();\n    axios\n      .get(this.#propertiesPayload, {cancelToken: this.#source.token})\n      .then(response => {\n        this.#rows.push(...response.data);\n        this.#isCompleted = this.offset >= this.#queryIds.length;\n        this.#progressIndicator.updateProgressBar({\n          offset: this.offset,\n          startTime,\n        });\n\n        // dispatch event\n        const customEvent2 = new CustomEvent(event.addNextRows, {\n          detail: {\n            tableData: this,\n            rows: response.data,\n            done: this.#isCompleted,\n          },\n        });\n        DefaultEventEmitter.dispatchEvent(customEvent2);\n        // turn off after finished\n        if (this.#isCompleted) {\n          this.#complete();\n          return;\n        }\n        if (this.#isLoading) this.#getProperties();\n      })\n      .catch(error => {\n        this.#handleError(error);\n      });\n  }\n\n  /**\n   * @param { boolean } withData\n   */\n  #complete(withData = true) {\n    this.#ROOT.dataset.status = 'complete';\n    this.#STATUS.textContent = withData ? 'Complete' : 'No Data Found';\n    this.#ROOT.classList.remove('-fetching');\n    this.#STATUS.classList.remove('-flickering');\n\n    if (withData) this.#setDownloadButtons();\n  }\n\n  /* public methods */\n  select() {\n    this.#ROOT.classList.add('-current');\n    // dispatch event\n    const customEvent1 = new CustomEvent(event.selectTableData, {detail: this});\n    DefaultEventEmitter.dispatchEvent(customEvent1);\n    // send rows\n    if (this.#ROOT.dataset.status !== 'load ids') {\n      const done = this.offset >= this.#queryIds.length;\n      const customEvent2 = new CustomEvent(event.addNextRows, {\n        detail: {\n          tableData: this,\n          rows: this.#rows,\n          done,\n        },\n      });\n      DefaultEventEmitter.dispatchEvent(customEvent2);\n    }\n  }\n\n  deselect() {\n    this.#ROOT.classList.remove('-current');\n  }\n\n  next() {\n    if (this.#isLoading) return;\n    this.#getProperties();\n  }\n\n  /* public accessors */\n  get offset() {\n    return this.#rows.length;\n  }\n  get togoKey() {\n    return this.#dxCondition.togoKey;\n  }\n  get dxCondition() {\n    return this.#dxCondition;\n  }\n  get data() {\n    return this.#rows;\n  }\n  get rateOfProgress() {\n    return this.#rows.length / this.#queryIds.length;\n  }\n}\n","import TableData from \"./TableData\";\nimport DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport * as event from '../events';\n\nexport default class ConditionsController {\n\n  #tableData;\n  #ROOT;\n  #CONDITIONS_CONTAINER;\n\n  constructor(elm) {\n\n    this.#tableData = [];\n\n    // references\n    this.#ROOT = elm;\n    this.#CONDITIONS_CONTAINER = elm.querySelector(':scope > .conditions');\n\n    // event listener\n    DefaultEventEmitter.addEventListener(event.completeQueryParameter, e => this.#setTableData(e.detail));\n    DefaultEventEmitter.addEventListener(event.selectTableData, e => this.#selectTableData(e.detail));\n    DefaultEventEmitter.addEventListener(event.deleteTableData, e => this.#deleteTableData(e.detail));\n\n    // observe number of conditions\n    const config = { attributes: false, childList: true, subtree: false };\n    const callback = (mutationsList, observer) => {\n      this.#ROOT.dataset.numberOfConditions = this.#CONDITIONS_CONTAINER.childNodes.length;\n    };\n    const observer = new MutationObserver(callback);\n    observer.observe(this.#CONDITIONS_CONTAINER, config);\n  }\n\n  /* private methods */\n\n  /**\n   * \n   * @param {DXCondition} dxCondition \n   */\n  #setTableData(dxCondition) {\n    // find matching condition from already existing conditions\n    const sameConditionTableData = this.#tableData.find(tableData => tableData.dxCondition.checkSameCondition(dxCondition));\n    if (sameConditionTableData) {\n      // use existing table data\n      sameConditionTableData.select();\n    } else {\n      // make new table data\n      const elm = document.createElement('div');\n      this.#CONDITIONS_CONTAINER.insertAdjacentElement('afterbegin', elm);\n      this.#tableData.push(new TableData(dxCondition, elm));\n    }\n  }\n\n  #selectTableData(selectedTableData) {\n    document.body.dataset.display = 'results';\n    // deselect\n    for (const tableData of this.#tableData) {\n      if (tableData !== selectedTableData) tableData.deselect();\n    }\n  }\n\n  #deleteTableData(tableData) {\n    const index = this.#tableData.indexOf(tableData);\n    this.#tableData.splice(index, 1);\n  }\n\n}\n","'use strict';\n\nvar WHITELIST = [\n\t'ETIMEDOUT',\n\t'ECONNRESET',\n\t'EADDRINUSE',\n\t'ESOCKETTIMEDOUT',\n\t'ECONNREFUSED',\n\t'EPIPE',\n\t'EHOSTUNREACH',\n\t'EAI_AGAIN'\n];\n\nvar BLACKLIST = [\n\t'ENOTFOUND',\n\t'ENETUNREACH',\n\n\t// SSL errors from https://github.com/nodejs/node/blob/ed3d8b13ee9a705d89f9e0397d9e96519e7e47ac/src/node_crypto.cc#L1950\n\t'UNABLE_TO_GET_ISSUER_CERT',\n\t'UNABLE_TO_GET_CRL',\n\t'UNABLE_TO_DECRYPT_CERT_SIGNATURE',\n\t'UNABLE_TO_DECRYPT_CRL_SIGNATURE',\n\t'UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY',\n\t'CERT_SIGNATURE_FAILURE',\n\t'CRL_SIGNATURE_FAILURE',\n\t'CERT_NOT_YET_VALID',\n\t'CERT_HAS_EXPIRED',\n\t'CRL_NOT_YET_VALID',\n\t'CRL_HAS_EXPIRED',\n\t'ERROR_IN_CERT_NOT_BEFORE_FIELD',\n\t'ERROR_IN_CERT_NOT_AFTER_FIELD',\n\t'ERROR_IN_CRL_LAST_UPDATE_FIELD',\n\t'ERROR_IN_CRL_NEXT_UPDATE_FIELD',\n\t'OUT_OF_MEM',\n\t'DEPTH_ZERO_SELF_SIGNED_CERT',\n\t'SELF_SIGNED_CERT_IN_CHAIN',\n\t'UNABLE_TO_GET_ISSUER_CERT_LOCALLY',\n\t'UNABLE_TO_VERIFY_LEAF_SIGNATURE',\n\t'CERT_CHAIN_TOO_LONG',\n\t'CERT_REVOKED',\n\t'INVALID_CA',\n\t'PATH_LENGTH_EXCEEDED',\n\t'INVALID_PURPOSE',\n\t'CERT_UNTRUSTED',\n\t'CERT_REJECTED'\n];\n\nmodule.exports = function (err) {\n\tif (!err || !err.code) {\n\t\treturn true;\n\t}\n\n\tif (WHITELIST.indexOf(err.code) !== -1) {\n\t\treturn true;\n\t}\n\n\tif (BLACKLIST.indexOf(err.code) !== -1) {\n\t\treturn false;\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isNetworkError = isNetworkError;\nexports.isRetryableError = isRetryableError;\nexports.isSafeRequestError = isSafeRequestError;\nexports.isIdempotentRequestError = isIdempotentRequestError;\nexports.isNetworkOrIdempotentRequestError = isNetworkOrIdempotentRequestError;\nexports.exponentialDelay = exponentialDelay;\nexports.default = axiosRetry;\n\nvar _isRetryAllowed = require('is-retry-allowed');\n\nvar _isRetryAllowed2 = _interopRequireDefault(_isRetryAllowed);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar namespace = 'axios-retry';\n\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\nfunction isNetworkError(error) {\n  return !error.response && Boolean(error.code) && // Prevents retrying cancelled requests\n  error.code !== 'ECONNABORTED' && // Prevents retrying timed out requests\n  (0, _isRetryAllowed2.default)(error); // Prevents retrying unsafe errors\n}\n\nvar SAFE_HTTP_METHODS = ['get', 'head', 'options'];\nvar IDEMPOTENT_HTTP_METHODS = SAFE_HTTP_METHODS.concat(['put', 'delete']);\n\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\nfunction isRetryableError(error) {\n  return error.code !== 'ECONNABORTED' && (!error.response || error.response.status >= 500 && error.response.status <= 599);\n}\n\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\nfunction isSafeRequestError(error) {\n  if (!error.config) {\n    // Cannot determine if the request can be retried\n    return false;\n  }\n\n  return isRetryableError(error) && SAFE_HTTP_METHODS.indexOf(error.config.method) !== -1;\n}\n\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\nfunction isIdempotentRequestError(error) {\n  if (!error.config) {\n    // Cannot determine if the request can be retried\n    return false;\n  }\n\n  return isRetryableError(error) && IDEMPOTENT_HTTP_METHODS.indexOf(error.config.method) !== -1;\n}\n\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\nfunction isNetworkOrIdempotentRequestError(error) {\n  return isNetworkError(error) || isIdempotentRequestError(error);\n}\n\n/**\n * @return {number} - delay in milliseconds, always 0\n */\nfunction noDelay() {\n  return 0;\n}\n\n/**\n * @param  {number} [retryNumber=0]\n * @return {number} - delay in milliseconds\n */\nfunction exponentialDelay() {\n  var retryNumber = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  var delay = Math.pow(2, retryNumber) * 100;\n  var randomSum = delay * 0.2 * Math.random(); // 0-20% of the delay\n  return delay + randomSum;\n}\n\n/**\n * Initializes and returns the retry state for the given request/config\n * @param  {AxiosRequestConfig} config\n * @return {Object}\n */\nfunction getCurrentState(config) {\n  var currentState = config[namespace] || {};\n  currentState.retryCount = currentState.retryCount || 0;\n  config[namespace] = currentState;\n  return currentState;\n}\n\n/**\n * Returns the axios-retry options for the current request\n * @param  {AxiosRequestConfig} config\n * @param  {AxiosRetryConfig} defaultOptions\n * @return {AxiosRetryConfig}\n */\nfunction getRequestOptions(config, defaultOptions) {\n  return Object.assign({}, defaultOptions, config[namespace]);\n}\n\n/**\n * @param  {Axios} axios\n * @param  {AxiosRequestConfig} config\n */\nfunction fixConfig(axios, config) {\n  if (axios.defaults.agent === config.agent) {\n    delete config.agent;\n  }\n  if (axios.defaults.httpAgent === config.httpAgent) {\n    delete config.httpAgent;\n  }\n  if (axios.defaults.httpsAgent === config.httpsAgent) {\n    delete config.httpsAgent;\n  }\n}\n\n/**\n * Adds response interceptors to an axios instance to retry requests failed due to network issues\n *\n * @example\n *\n * import axios from 'axios';\n *\n * axiosRetry(axios, { retries: 3 });\n *\n * axios.get('http://example.com/test') // The first request fails and the second returns 'ok'\n *   .then(result => {\n *     result.data; // 'ok'\n *   });\n *\n * // Exponential back-off retry delay between requests\n * axiosRetry(axios, { retryDelay : axiosRetry.exponentialDelay});\n *\n * // Custom retry delay\n * axiosRetry(axios, { retryDelay : (retryCount) => {\n *   return retryCount * 1000;\n * }});\n *\n * // Also works with custom axios instances\n * const client = axios.create({ baseURL: 'http://example.com' });\n * axiosRetry(client, { retries: 3 });\n *\n * client.get('/test') // The first request fails and the second returns 'ok'\n *   .then(result => {\n *     result.data; // 'ok'\n *   });\n *\n * // Allows request-specific configuration\n * client\n *   .get('/test', {\n *     'axios-retry': {\n *       retries: 0\n *     }\n *   })\n *   .catch(error => { // The first request fails\n *     error !== undefined\n *   });\n *\n * @param {Axios} axios An axios instance (the axios object or one created from axios.create)\n * @param {Object} [defaultOptions]\n * @param {number} [defaultOptions.retries=3] Number of retries\n * @param {boolean} [defaultOptions.shouldResetTimeout=false]\n *        Defines if the timeout should be reset between retries\n * @param {Function} [defaultOptions.retryCondition=isNetworkOrIdempotentRequestError]\n *        A function to determine if the error can be retried\n * @param {Function} [defaultOptions.retryDelay=noDelay]\n *        A function to determine the delay between retry requests\n */\nfunction axiosRetry(axios, defaultOptions) {\n  axios.interceptors.request.use(function (config) {\n    var currentState = getCurrentState(config);\n    currentState.lastRequestTime = Date.now();\n    return config;\n  });\n\n  axios.interceptors.response.use(null, function (error) {\n    var config = error.config;\n\n    // If we have no information to retry the request\n    if (!config) {\n      return Promise.reject(error);\n    }\n\n    var _getRequestOptions = getRequestOptions(config, defaultOptions),\n        _getRequestOptions$re = _getRequestOptions.retries,\n        retries = _getRequestOptions$re === undefined ? 3 : _getRequestOptions$re,\n        _getRequestOptions$re2 = _getRequestOptions.retryCondition,\n        retryCondition = _getRequestOptions$re2 === undefined ? isNetworkOrIdempotentRequestError : _getRequestOptions$re2,\n        _getRequestOptions$re3 = _getRequestOptions.retryDelay,\n        retryDelay = _getRequestOptions$re3 === undefined ? noDelay : _getRequestOptions$re3,\n        _getRequestOptions$sh = _getRequestOptions.shouldResetTimeout,\n        shouldResetTimeout = _getRequestOptions$sh === undefined ? false : _getRequestOptions$sh;\n\n    var currentState = getCurrentState(config);\n\n    var shouldRetry = retryCondition(error) && currentState.retryCount < retries;\n\n    if (shouldRetry) {\n      currentState.retryCount += 1;\n      var delay = retryDelay(currentState.retryCount, error);\n\n      // Axios fails merging this configuration to the default configuration because it has an issue\n      // with circular structures: https://github.com/mzabriskie/axios/issues/370\n      fixConfig(axios, config);\n\n      if (!shouldResetTimeout && config.timeout && currentState.lastRequestTime) {\n        var lastRequestDuration = Date.now() - currentState.lastRequestTime;\n        // Minimum 1ms timeout (passing 0 or less to XHR means no timeout)\n        config.timeout = Math.max(config.timeout - lastRequestDuration - delay, 1);\n      }\n\n      config.transformRequest = [function (data) {\n        return data;\n      }];\n\n      return new Promise(function (resolve) {\n        return setTimeout(function () {\n          return resolve(axios(config));\n        }, delay);\n      });\n    }\n\n    return Promise.reject(error);\n  });\n}\n\n// Compatibility with CommonJS\naxiosRetry.isNetworkError = isNetworkError;\naxiosRetry.isSafeRequestError = isSafeRequestError;\naxiosRetry.isIdempotentRequestError = isIdempotentRequestError;\naxiosRetry.isNetworkOrIdempotentRequestError = isNetworkOrIdempotentRequestError;\naxiosRetry.exponentialDelay = exponentialDelay;\naxiosRetry.isRetryableError = isRetryableError;\n//# sourceMappingURL=index.js.map","module.exports = require('./lib/index').default;","import DefaultEventEmitter from './DefaultEventEmitter';\nimport ConditionBuilder from './ConditionBuilder';\nimport Records from './Records';\nimport * as event from '../events';\nimport * as queryTemplates from '../functions/queryTemplates';\nimport ProgressIndicator from './ProgressIndicator';\nimport axiosRetry from 'axios-retry';\n\nconst timeOutError = 'ECONNABORTED';\n\nexport default class UploadUserIDsView {\n  #ROOT;\n  #BODY;\n  #USER_IDS;\n  #progressIndicator;\n  #source;\n  #offset;\n  #errorCount;\n\n  constructor(elm) {\n    // TODO: set axios settings in common file\n    // TODO: set 'user cancel' as a const in axios setting file\n    axios.defaults.timeout = 120000;\n    axiosRetry(axios, {\n      retries: 5,\n      shouldResetTimeout: true,\n      retryDelay: retryCount => {\n        return Math.pow(2, retryCount - 1) * 5000;\n      },\n      retryCondition: error => {\n        return (\n          (error.code === timeOutError) ||\n          [500, 503].includes(error.response?.status)\n        );\n      },\n    });\n\n    this.#ROOT = elm;\n    this.#offset = 0;\n    this.#errorCount = 0;\n\n    this.#BODY = document.querySelector('body');\n    this.#USER_IDS = elm.querySelector(':scope > textarea');\n\n    elm.appendChild(document.createElement('div'));\n    this.#progressIndicator = new ProgressIndicator(elm.lastChild, 'simple');\n\n    // attach events\n    elm.querySelector(':scope > .title > .button > button').addEventListener('click', () => {\n      this.#USER_IDS.value = this.#USER_IDS.placeholder.replace('e.g. ', '');\n      this.#USER_IDS.dispatchEvent(new Event('change'));\n      submitButton.dispatchEvent(new Event('click'));\n    });\n    const buttons = elm.querySelector(':scope > .buttons');\n    const submitButton = buttons.querySelector(':scope > button:nth-child(1)');\n    submitButton\n      .addEventListener('click', e => {\n        e.stopPropagation();\n        // clear after 2nd execution\n        if (this.#source) this.#reset(true);\n        this.#fetch();\n        return false;\n      });\n    buttons\n      .querySelector(':scope > button:nth-child(2)')\n      .addEventListener('click', e => {\n        e.stopPropagation();\n        this.#clear();\n        return false;\n      });\n\n    // event listeners\n    this.#USER_IDS.addEventListener('change', () => {\n      ConditionBuilder.setUserIds(this.#USER_IDS.value);\n    });\n    // this.#USER_IDS.addEventListener('keyup', e => {\n    //   if (e.keyCode === 13) this.#fetch();\n    // });\n    // DefaultEventEmitter.addEventListener(event.restoreParameters, this.#restoreParameters.bind(this));\n    DefaultEventEmitter.addEventListener(\n      event.clearCondition,\n      this.#clear.bind(this)\n    );\n  }\n\n\n  // private methods\n\n  // #restoreParameters({detail}) {\n  //   this.#USER_IDS.value = detail.userIds;\n  // }\n\n  #fetch() {\n    if (this.#USER_IDS.value === '') return;\n    this.#prepareProgressIndicator();\n    Records.properties.forEach(property => {\n      this.#getProperty(property);\n    });\n  }\n\n  #prepareProgressIndicator() {\n    // reset axios cancellation\n    const CancelToken = axios.CancelToken;\n    this.#source = CancelToken.source();\n\n    this.#ROOT.classList.add('-fetching');\n    this.#ROOT.dataset.status = '';\n    this.#progressIndicator.setIndicator(\n      'In progress',\n      Records.properties.length\n    );\n  }\n\n  #getProperty({propertyId, primaryKey}) {\n    axios\n      .get(queryTemplates.dataFromUserIds(propertyId), {\n        cancelToken: this.#source.token,\n      })\n      .then(response => {\n        this.#BODY.classList.add('-showuserids');\n        this.#handleProp();\n\n        // dispatch event\n        const customEvent = new CustomEvent(event.setUserValues, {\n          detail: {\n            propertyId,\n            values: response.data,\n          },\n        });\n        DefaultEventEmitter.dispatchEvent(customEvent);\n      })\n      .catch(error => {\n        if (axios.isCancel && error.message === 'user cancel') return;\n        const customEvent = new CustomEvent(event.toggleErrorUserValues, {\n          detail: {\n            mode: 'show',\n            propertyId,\n            message: 'Failed to map this ID',\n          },\n        });\n        DefaultEventEmitter.dispatchEvent(customEvent);\n        this.#handleProp();\n        this.#errorCount++;\n      })\n      .then(() => {\n        if (this.#offset >= Records.properties.length) {\n          this.#complete(this.#errorCount > 0);\n        }\n      });\n  }\n\n  #handleProp() {\n    this.#offset += 1;\n    this.#progressIndicator.updateProgressBar({\n      offset: this.#offset,\n    });\n  }\n\n  #complete(withError = false) {\n    let msg = withError\n      ? `Failed to map IDs for ${this.#errorCount} attribute${\n          this.#errorCount > 1 ? 's' : ''\n        }`\n      : 'Mapping completed';\n    this.#progressIndicator.setIndicator(msg, undefined, withError);\n    this.#ROOT.dataset.status = 'complete';\n  }\n\n  #resetCounters() {\n    this.#offset = 0;\n    this.#errorCount = 0;\n  }\n\n  #reset(isPreparing = false) {\n    this.#source?.cancel('user cancel');\n    this.#resetCounters();\n    const customEvent = new CustomEvent(event.clearUserValues);\n    DefaultEventEmitter.dispatchEvent(customEvent);\n\n    const customEvent2 = new CustomEvent(event.toggleErrorUserValues, {\n      detail: {\n        mode: 'hide',\n      },\n    });\n    DefaultEventEmitter.dispatchEvent(customEvent2);\n    this.#progressIndicator.reset();\n    this.#BODY.classList.remove('-showuserids');\n\n    if (isPreparing) return;\n\n    ConditionBuilder.setUserIds();\n    this.#USER_IDS.value = '';\n  }\n\n  #clear() {\n    this.#reset();\n    this.#complete();\n  }\n}\n","import DefaultEventEmitter from \"./DefaultEventEmitter\";\nimport ConditionBuilderView from './ConditionBuilderView';\nimport ConditionBuilder from './ConditionBuilder';\nimport Records from './Records';\nimport ConceptView from './ConceptView';\nimport ResultsTable from './ResultsTable';\nimport ResultDetailModal from \"./ResultDetailModal\";\nimport BalloonView from './BalloonView';\nimport ConditionsController from \"./ConditionsController\";\nimport UploadUserIDsView from \"./UploadUserIDsView\";\nimport Color from \"./Color\";\nimport StanzaManager from \"./StanzaManager\";\nimport * as event from '../events'\n\nclass App {\n\n  #viewModes;\n  #backend;\n\n  #colorWhite;\n  #colorLightGray;\n  #colorSilver;\n  #colorGray;\n  #colorDarkGray;\n  #colorLampBlack;\n\n  constructor() {\n    this.#colorWhite = new Color('white').to('srgb');\n    this.#colorLightGray = new Color('--color-light-gray').to('srgb');\n    this.#colorLightGray = new Color('--color-light-gray').to('srgb');\n    this.#colorSilver = new Color('--color-silver').to('srgb');\n    this.#colorGray = new Color('--color-gray').to('srgb');\n    this.#colorDarkGray = new Color('--color-dark-gray').to('srgb');\n    this.#colorLampBlack = new Color('--color-lamp-black').to('srgb');\n  }\n\n  ready(config) {\n\n    const body = document.body;\n\n    // view modes\n    this.#viewModes = {};\n    document.querySelectorAll('#Properties > .header > nav .viewmodecontroller input[type=\"checkbox\"]').forEach(checkbox => {\n      this.#viewModes[checkbox.value] = checkbox.checked;\n      checkbox.addEventListener('click', () => {\n        if (checkbox.value === 'heatmap')  body.dataset.heatmap = checkbox.checked;\n        this.#viewModes[checkbox.value] = checkbox.checked;\n        const customEvent = new CustomEvent(event.changeViewModes, {detail: this.#viewModes});\n        DefaultEventEmitter.dispatchEvent(customEvent);\n      });\n    });\n\n    // events\n    DefaultEventEmitter.addEventListener(event.restoreParameters, () => {\n      document.querySelector('#App > .loading-view').classList.remove('-shown');\n    });\n\n    // set up views\n    new ConditionBuilderView(document.querySelector('#ConditionBuilder'));\n    new ConditionsController(document.querySelector('#Conditions'));\n    new ResultsTable(document.querySelector('#ResultsTable'));\n    new ResultDetailModal();\n    new BalloonView();\n    new UploadUserIDsView(document.querySelector('#UploadUserIDsView'));\n\n    // load config json\n    Promise.all([\n      fetch(config.PROPERTIES),\n      fetch(config.TEMPLATES),\n      fetch(config.BACKEND),\n      fetch(config.ATTRIBUTES)\n    ])\n      .then(responces => {\n        return Promise.all(responces.map(responce => responce.json()))\n      })\n      .then(([subjects, templates, backend, attributes]) => {\n        Records.setSubjects(subjects, attributes);\n        Records.setDatasets(attributes);\n        ConditionBuilder.init();\n\n        // define primary keys\n        const customEvent = new CustomEvent(event.defineTogoKey, {detail: {datasets: attributes.datasets}});\n        DefaultEventEmitter.dispatchEvent(customEvent);\n\n        // initialize stanza manager\n        StanzaManager.init(templates);\n\n        // aggregate\n        this.#backend = Object.freeze(backend);\n\n        this.#makeConceptViews();\n        this.#defineAllTracksCollapseButton();\n      });\n  }\n\n  // private methods\n\n  #makeConceptViews() {\n    const conceptsContainer = document.querySelector('#Properties > .concepts');\n    Records.subjects.forEach(subject => {\n      const elm = document.createElement('section');\n      new ConceptView(subject, elm);\n      conceptsContainer.insertAdjacentElement('beforeend', elm);\n    });\n  }\n\n  #defineAllTracksCollapseButton() {\n    const collapsebutton = document.querySelector('#Properties > header > .title > h2.collapsebutton');\n    collapsebutton.addEventListener('click', e => {\n      let customEvent = new CustomEvent(event.allTracksCollapse);\n      if (collapsebutton.classList.contains('-spread')) {\n        collapsebutton.classList.remove('-spread');\n        customEvent = new CustomEvent(event.allTracksCollapse, {detail: false});\n      } else {\n        collapsebutton.classList.add('-spread');\n        customEvent = new CustomEvent(event.allTracksCollapse, {detail: true});\n      }\n      DefaultEventEmitter.dispatchEvent(customEvent);\n    });\n  }\n\n  // public methods\n\n  // accessor\n  get viewModes() {\n    return this.#viewModes;\n  }\n  get aggregate() {\n    return this.#backend.aggregate.url;\n  }\n  get dataframe() {\n    return this.#backend.dataframe.url;\n  }\n  get locate() {\n    return this.#backend.locate.url;\n  }\n  get colorWhite() {\n    return this.#colorWhite;\n  }\n  get colorLightGray() {\n    return this.#colorLightGray;\n  }\n  get colorSilver() {\n    return this.#colorSilver;\n  }\n  get colorGray() {\n    return this.#colorGray;\n  }\n  get colorDarkGray() {\n    return this.#colorDarkGray;\n  }\n  get colorLampBlack() {\n    return this.#colorLampBlack;\n  }\n\n}\n\nexport default new App();\n","import App from './classes/App.js';\n\nfetch('./config.json')\n  .then(response => response.json())\n  .then(api => {\n    globalThis.togositeapp = App;\n    App.ready(api);\n  });\n"],"names":["DefaultEventEmitter","EventTarget","t","e","r","length","Array","isArray","map","a","s","o","reduce","Object","prototype","toString","call","match","toLowerCase","getOwnPropertyDescriptors","defineProperties","getOwnPropertyDescriptor","defineProperty","Math","floor","toFixed","round","i","indexOf","split","Color","space","coords","ReferenceError","name","n","pop","reduceRight","c","freeze","__proto__","isString","type","extend","copyDescriptor","capitalize","toUpperCase","slice","toPrecision","parseCoord","value","multiplyMatrices","l","document","h","spaceId","arguments","nodeType","documentElement","getComputedStyle","getPropertyValue","parse","alpha","NaN","spaces","_spaceId","id","instance","hasOwnProperty","white","whites","D50","set","lightness","get","sqrt","isNaN","method","defaults","deltaE","deltaE76","distance","chromaticAdaptation","xyz","D65","X","Y","Z","luminance","inGamut","precision","toGamut","values","gamutMapping","inPlace","epsilon","to","max","min","format","commas","fallback","p","getCoords","u","unshift","cssId","d","join","CSS","supports","String","color","fallbackSpaces","splice","every","Number","W1","W2","XYZ","options","hooks","run","M","TypeError","str","parsed","parseFunction","test","head","style","args","percentage","shift","find","keys","rawArgs","fill","forEach","trim","deg","rawName","from","toXYZ","fromXYZ","inherits","includes","properties","Set","filter","has","assign","convert","Proxy","Reflect","configurable","enumerable","shortcuts","getOwnPropertyNames","util","add","context","chroma","hue","defineSpace","defineShortcut","statify","L","b","cbrt","pow","isAngle","lab","abs","atan2","PI","cos","sin","red","green","blue","toLinear","toGamma","toXYZ_M","fromXYZ_M","toHex","collapse","push","padStart","hex","parseHex","replace","parseInt","srgb","saturation","apply","whiteness","blackness","hsl","hsv","hwb","sign","Xa","Ya","Za","Yw","cssid","Jz","az","bz","g","ninv","c1","c2","c3","pinv","d0","XYZtoCone_M","ConetoXYZ_M","ConetoIab_M","IabtoCone_M","absxyzd65","m","f","w","y","S","C","jzazbz","rec2020","I","CT","CP","m1","m2","im1","im2","XYZtoLMS_M","Rec2020toLMS_M","LMStoIPT_M","IPTtoLMS_M","LMStoRec2020_M","LMStoXYZ_M","LMStoICtCp","ICtCptoLMS","minv","LMStoLab_M","LabtoLMS_M","oklab","CATs","adapt","defineCAT","toCone_M","fromCone_M","A","D55","D75","E","F2","F7","F11","ACES","log2","range","mix","outputSpace","steps","rangeArgs","colors","maxDeltaE","deltaEMethod","maxSteps","ceil","progression","premultiplied","interpolationSpace","deltaECMC","k","deltaE2000","kL","kC","kH","z","_","v","G","console","log","x","N","j","O","P","D","q","T","exp","$","R","deltaEJz","jzczhz","deltaEITP","ictcp","deltaEOK","ΔL","ΔC","ΔH","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellow","yellowgreen","Records","subjects","categories","attributes","datasets","srgbStrong","colorCSSValue","channel","colorCSSStrongValue","subject","property","subjectId","propertyId","styleElm","createElement","appendChild","styleSheet","sheet","insertRule","category","tracks","categoryId","getProperty","Promise","resolve","reject","findIndex","parentCategoryId","fetch","data","then","responce","json","catch","error","attribute","some","ancestors","parent","dataset","label","BaseCondition","_propertyId","key","primaryKey","KeyCondition","getAncestors","ancestor","getValue","query","node","ValuesCondition","categoryIds","index","ids","nodes","DXCondition","togoKey","keyConditions","valuesConditions","dxCondition","matchKeys","keyCondition","newKeyCondition","matchValues","valuesCondition","newValuesCondition","newCategoryId","encodeURIComponent","JSON","stringify","defineTogoKey","setUserValues","clearUserValues","toggleErrorUserValues","changeViewModes","mutatePropertyCondition","mutatePropertyValueCondition","mutateEstablishConditions","completeQueryParameter","restoreParameters","clearCondition","hideStanza","hidePopup","showPopup","movePopup","dragElement","failedFetchTableDataIds","addNextRows","selectTableData","deleteTableData","highlightCol","enterPropertyValueItemView","leavePropertyValueItemView","allTracksCollapse","changeStatisticsViewMode","changeColumnSelectorSorter","collapsed","ConditionBuilder","window","addEventListener","bind","event","isFinal","keyCondiiton","customEvent","CustomEvent","detail","action","dispatchEvent","sameValuesCondition","addCategoryId","isSameCondition","removeCategoryId","conditions","removeProperty","addProperty","oldValuesCondition","originalValues","originalValue","indexInNew","indexInOld","addPropertyValue","removePropertyValue","dontLeaveInHistory","undefined","established","getURLParameter","params","URL","location","searchParams","history","pushState","origin","pathname","isFirst","condition","queue","addQueue","task","fetchPropertyValues","userIds","setProperties","setPropertyValues","finish","POLLING_DURATION","StackingConditionView","container","getSubjectWithPropertyId","classList","ancestorLabels","setTimeout","insertAdjacentHTML","querySelector","stopPropagation","target","parentNode","isMatch","removeChild","childNodes","innerHTML","insertAdjacentElement","addValue","querySelectorAll","ConditionBuilderView","elm","conditionsContainer","body","display","makeQueryParameter","disabled","fromEntries","examples","currentTogoKey","setSubject","placeholder","option","selected","Event","remove","stackingConditionView","sameProperty","collapseView","button","content","toggle","contains","ColumnItemView","column","selectedCategoryIds","count","hasChild","toLocaleString","checked","checkValue","drilldown","drillDown","isLog10","log10","backgroundColor","App","colorWhite","cood","textContent","hit_count","pValue","toExponential","SORTABLE_COLUMNS","ColumnSelectorSortManager","localStorage","getItem","status","Map","direction","asc","desc","setItem","sortDirection","sortColumn","dataFromUserIds","locate","ColumnView","selector","depth","queryTemplates","sparqlet","columnItemView","checkbox","closest","previousElementSibling","itemNode","capturingCollapse","getSelectedCategoryIds","append","rootNode","theadCells","sortableColumns","sortableColumn","cell","sortable","sorter","setSort","isShowing","sortDescriptor","total","items","sort","reverse","item","viewModes","getCategoryWithAttribute","update","axios","response","ColumnSelectorView","columnView","depth2","selectedItemKeys","Error","appended","left","scrollWidth","clientWidth","scrollTo","top","behavior","HistogramRangeSelectorController","start","end","width","item_","selectionStart","selectionEnd","self","isMouseDown","startX","initialStart","initialEnd","initialWidth","totalWidth","interactionType","selectorController","handlesArray","handle","right","init","stopImmediatePropagation","getBoundingClientRect","layerX","selectedWidth","translation","bar","selectedItems","colorTintByHue","baseColor","createPopupEvent","uniqueEntry","newEvent","getAttribute","dataKey","mainCategoryId","subCategoryId","uniqueEntryId","dataX","dataY","dataSubOrder","isPrimaryKey","NUM_OF_GRID","HistogramRangeSelectorView","overviewContainer","repeat","histogram","overview","graph","processedMax","digits","unit","charAt","padEnd","grid","scale","bottom","height","MIN_PIN_SIZE","MAX_PIN_SIZE","RANGE_PIN_SIZE","TrackOverviewCategorical","sum","acc","countLog10","selectedClass","pin","icon","userValue","userValueCount","colorSilver","ratio","pValueGreaterThan","size","fontSize","TrackView","positionRate","isSelected","isSelectedProperty","description","dataSourceUrl","dataSource","dataSourceVersion","updatedAt","valuesContainer","MouseEvent","mode","message","finally","viewMethod","inUserIDs","nextElementSibling","prop","ConceptView","propertiesContainer","StatisticsView","statisticsRootNode","tableData","getValuesWithParentCategoryId","removeEventListener","uniqBy","datum","flat","hitVlues","filtered","hitCount","countMax","isOnlyHitCount","isStretch","lastBar","after","hitbar","hitCountLabel","hitbarHeight","done","ResultsTable","TABLE","IntersectionObserver","entries","entry","isIntersecting","mutationObserver","MutationObserver","mutations","mutation","attributeName","unobserve","deselect","observe","controller","radio","statisticsViewMoe","next","getDatasetLabel","td","statisticsView","destroy","rows","row","offset","columnIndex","attributeIndex","propertyKey","actualIndex","tr","uniqueEntries","colIndex","element","StanzaManager","stanzas","stanza","script","setAttribute","all","templates","responces","text","dragView","view","elementDrag","closeDrag","dx","clientX","dy","clientY","offsetTop","offsetLeft","ResultDetailModal","preventDefault","click","className","currentTarget","popup","props","getCategory","mainCategory","subCategory","path","header","lastElementChild","parentElement","dragableElement","draw","scriptElement","_script","replaceWith","arrow","arrowMovement","dir","curX","curY","curInternalIndex","getTargetAxes","subOrder","movement","targetEntry","scrollIntoView","block","move","allCurEntries","targetInternalIndex","targetX","targetY","allTargetEntries","targetIndex","exitingPopup","popupStyle","BalloonView","rect","isBelow","innerHeight","MODE","SIMPLE","DETAILED","ProgressIndicator","loadingIcon","counter","startTime","isError","setIndicator","durationPerItem","itemsLeft","time","Date","now","remainingTime","nodeValue","LIMIT","downloadUrls","timeOutError","dataButtonModes","dataButton","TableData","cancelToken","CancelToken","source","select","customEvent1","customEvent2","cancel","urlType","anchor","innerText","url","timeStamp","toISOString","replaceAll","toLocaleTimeString","date","modeToChangeTo","partiallyLoaded","middleButton","insertBefore","jsonBlob","Blob","createObjectURL","temporaryArray","singleItem","tsvArray","tsvHeader","bom","Uint8Array","tsvBlob","tsvUrl","err","isCancel","code","statusText","queryFilters","post","aggregate","token","dataframe","queryAnnotations","updateProgressBar","withData","ConditionsController","config","childList","subtree","callback","mutationsList","observer","numberOfConditions","sameConditionTableData","checkSameCondition","selectedTableData","axiosRetry","require$$0","UploadUserIDsView","timeout","retries","shouldResetTimeout","retryDelay","retryCount","retryCondition","lastChild","submitButton","buttons","setUserIds","withError","msg","isPreparing","reset","heatmap","PROPERTIES","TEMPLATES","BACKEND","ATTRIBUTES","backend","setSubjects","setDatasets","conceptsContainer","collapsebutton","api","globalThis","togositeapp","ready"],"mappings":"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"}